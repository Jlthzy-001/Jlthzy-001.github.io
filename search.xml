<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>动态规划习题集锦</title>
      <link href="/2022/03/09/f_leetcode%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/"/>
      <url>/2022/03/09/f_leetcode%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92/</url>
      
        <content type="html"><![CDATA[<h1>知识点</h1><h1>简单题</h1><h3 id="1-爬楼梯">1.爬楼梯</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220227193631.png" alt=""></p><p>思路：不妨用sum[i]表示i个阶梯可以走的方法的总数，则sum[0]=0，sum[1]=1，sum[2]=2。故可以分解操作。</p><blockquote><p>若n=3，第一次走1个台阶，余下还剩sum[2]，第一次走2个台阶，余下还剩sum[1]。sum[3]=sum[2]+sum[1]</p><p>若n=4，第一次走1个台阶，余下还剩sum[3]，第一次走2个台阶，余下还剩sum[2]。sum[4]=sum[3]+sum[2]</p><p>若n=5，第一次走1个台阶，余下还剩sum[4]，第一次走2个台阶，余下还剩sum[3]。sum[4]=sum[3]+sum[2]</p><p>…</p><p>若n=n，第一次走1个台阶，余下还剩sum[n-1]，第一次走2个台阶，余下还剩sum[n-2]。sum[n]=sum[n-1]+sum[n-2]</p></blockquote><p>代码如下👇</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">## 纯c++</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">clinbstair</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> *sum=<span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    sum[<span class="number">0</span>]=<span class="number">0</span>;sum[<span class="number">1</span>]=<span class="number">1</span>;sum[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        sum[i]=sum[i<span class="number">-1</span>]+sum[i<span class="number">-2</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum[n];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">## LeetCode</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">climbStairs</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">int</span> *sum=<span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        sum[<span class="number">0</span>]=<span class="number">0</span>;sum[<span class="number">1</span>]=<span class="number">1</span>;sum[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            sum[i]=sum[i<span class="number">-1</span>]+sum[i<span class="number">-2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sum[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="2-杨辉三角">2.杨辉三角</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220227212708.png" alt=""></p><p>思路：没啥思路，一看就知道通项公式，就是写不出代码，哭了</p><blockquote><p>重新学些了下C++的二维vector</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//此处的m是初始化a的大小，m=array.size()，而不是初始值；</span></span><br><span class="line">vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; <span class="built_in">a</span>(m);</span><br><span class="line"><span class="comment">//初始化一个m*n的二维数组</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">    a[i].<span class="built_in">resize</span>(n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//赋值，like二维数组</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n;j++)</span><br><span class="line">    &#123;</span><br><span class="line">        a[i][j] = (<span class="number">3</span>*i+j+<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">## LeetCode题解</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; <span class="built_in">generate</span>(<span class="keyword">int</span> numRows) &#123;</span><br><span class="line">        <span class="comment">//此处的m是初始化a的大小，m=array.size()，而不是初始值；</span></span><br><span class="line">        vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; <span class="built_in">a</span>(numRows);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            a[i].<span class="built_in">resize</span>(i+<span class="number">1</span>);<span class="comment">//初始化一个i*(i+1)的二维数组</span></span><br><span class="line">            a[i][<span class="number">0</span>]=a[i][i]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;i;j++)</span><br><span class="line">                a[i][j]=a[i<span class="number">-1</span>][j<span class="number">-1</span>]+a[i<span class="number">-1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## <span class="function">CPP</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">yhsj</span><span class="params">(<span class="keyword">int</span> m)</span></span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; <span class="built_in">a</span>(m);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.<span class="built_in">size</span>();i++)&#123;</span><br><span class="line">        <span class="comment">//初始化一个m*n的二维数组</span></span><br><span class="line">        a[i].<span class="built_in">resize</span>(i+<span class="number">1</span>);</span><br><span class="line">        a[i][<span class="number">0</span>]=a[i][i]=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;i;j++)&#123;</span><br><span class="line">            a[i][j]=a[i<span class="number">-1</span>][j<span class="number">-1</span>]+a[i<span class="number">-1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//打印出来</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;i;j++)&#123;</span><br><span class="line">            cout&lt;&lt;a[i][j]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-杨辉三角2">3.杨辉三角2</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220227213831.png" alt=""></p><p>思路：这个题代码基本和上一题一样，注意rowIndex=3的时候，其实是求得第4行</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">## LeetCode题解</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">getRow</span><span class="params">(<span class="keyword">int</span> rowIndex)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//此处的m是初始化a的大小，m=array.size()，而不是初始值；</span></span><br><span class="line">        <span class="comment">//数组下标从0开始，求3其实要4，所有是rowIndex+1</span></span><br><span class="line">        vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt; <span class="built_in">a</span>(rowIndex+<span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;a.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            a[i].<span class="built_in">resize</span>(i+<span class="number">1</span>);<span class="comment">//初始化一个i*(i+1)的二维数组</span></span><br><span class="line">            a[i][<span class="number">0</span>]=a[i][i]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;i;j++)</span><br><span class="line">                a[i][j]=a[i<span class="number">-1</span>][j<span class="number">-1</span>]+a[i<span class="number">-1</span>][j];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//二维数组指定第一个方框内数，就能打印一行了，牛批</span></span><br><span class="line">        <span class="keyword">return</span> a[rowIndex];</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="4-买卖股票的最佳时机">4.买卖股票的最佳时机</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220228134932.png" alt=""></p><p>思路：直接暴力做，但是超时了，尴尬</p><blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">### 下面是自己的写的暴力破解</span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;n;j++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(midnum&lt;=prices[j]-prices[i])</span><br><span class="line">            midnum=prices[j]-prices[i];</span><br><span class="line">    &#125;</span><br><span class="line">    maxnum= <span class="built_in">max</span>(maxnum,midnum);</span><br><span class="line">&#125;</span><br><span class="line">cout&lt;&lt;maxnum&lt;&lt;endl;</span><br></pre></td></tr></table></figure></blockquote><p>令dp[i]表示第i天的的最大值，则dp[i]显然等于dp[i-1]和prices[i]-minum之间的较大值</p><blockquote><p>状态转移方程</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dp[i]= max(dp[i-1],a[i]-minnum)</span><br><span class="line">minnum= min(minnum,a[i]);</span><br></pre></td></tr></table></figure></blockquote><p>代码如下↓</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//边界条件</span></span><br><span class="line">dp[<span class="number">0</span>]=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> minnum=a[<span class="number">0</span>];</span><br><span class="line"><span class="comment">//求出dp的值</span></span><br><span class="line"><span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">    dp[i]= <span class="built_in">max</span>(dp[i<span class="number">-1</span>],a[i]-minnum);</span><br><span class="line">    minnum= <span class="built_in">min</span>(minnum,a[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//循环找到最大的值</span></span><br><span class="line">    <span class="keyword">int</span> ans;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(ans&lt;dp[i])</span><br><span class="line">            ans=dp[i];</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><h3 id="5-比特位计数">5.比特位计数</h3><p><img src="C:%5CUsers%5CJlthz%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220301212011302.png" alt="image-20220301212011302"></p><p>别人的思路：</p><blockquote><p>1.奇数：二进制表示中，奇数一定比前面那个偶数多一个 1，因为多的就是最低位的 1</p><blockquote><p>举例：</p><p>0 = 0       1 = 1</p><p>2 = 10      3 = 11</p></blockquote><p>2.偶数：二进制表示中，偶数中 1 的个数一定和除以 2 之后的那个数一样多。因为最低位是 0，除以 2 就是右移一位，也就是把那个 0 抹掉而已，所以 1 的个数是不变的。</p><blockquote><p>举例</p><p>2 = 10       4 = 100       8 = 1000</p><p>3 = 11       6 = 110       12 = 1100</p></blockquote></blockquote><p>答案：</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">countBits</span><span class="params">(<span class="keyword">int</span> num)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">result</span><span class="params">(num+<span class="number">1</span>)</span></span>;</span><br><span class="line">        result[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= num; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">1</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                result[i] = result[i<span class="number">-1</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                result[i] = result[i/<span class="number">2</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>而自己的答案</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">cul_one</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i_1=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(n!=<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">1</span>)</span><br><span class="line">            i_1++;</span><br><span class="line">        n=n/<span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i_1;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    <span class="keyword">int</span> *nums = <span class="keyword">new</span> <span class="keyword">int</span> [n+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        nums[i]= <span class="built_in">cul_one</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        cout&lt;&lt;nums[i]&lt;&lt;<span class="string">&quot; &quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="6-判断子序列">6.判断子序列</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220301214729.png" alt=""></p><p>本质就是贪心策略，使用双指针。首先i指向s，j指向t。若s[i]和t[j]相等，则i和j都自增1，若不等则j自增1。最后仅仅需判断i的值和s的长度，相等则返回true，不等则返回false</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">        <span class="function"><span class="keyword">bool</span> <span class="title">isSubsequence</span><span class="params">(string s, string t)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = s.<span class="built_in">length</span>(), m = t.<span class="built_in">length</span>();</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; n &amp;&amp; j &lt; m) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] == t[j]) &#123;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i == n;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="7-使用最小花费爬楼梯">7.使用最小花费爬楼梯</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220302194043.png" alt=""></p><p>思路：坚持了几分钟还是放弃了，看了下答案的思路，自己还是太菜了</p><p>不妨设走完i阶楼梯所用的最小花费为minCost[i],则走完第i阶有两个选择</p><blockquote><p>1.先花掉minCost[i-1]，走完第i-1个阶梯，然后再走一步花费cost[i]</p><p>2.先花掉minCost[i-2]，走完第i-2个阶梯，然后再走两步花费cost[i-1]</p></blockquote><p>所以，就有了 minCost[i]=min(minCost[i-1]+cost[i]，minCost[i-2]+cost[i-1])</p><p>台阶的数组从<code>0</code>开始计数。可以用<code>-1</code>代表地面，并设<code>cost[-1] = 0</code></p><p>minCost[0] = min(cost[-1], cost[0]) = min(0, cost[0]) = 0</p><p>minCost[1] = min(cost[0], cost[1])</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minCostClimbingStairs</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; cost)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> size = cost.<span class="built_in">size</span>();</span><br><span class="line">    <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">minCost</span><span class="params">(size)</span></span>;</span><br><span class="line">    minCost[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">    minCost[<span class="number">1</span>] = <span class="built_in">min</span>(cost[<span class="number">0</span>], cost[<span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; size; i++) &#123;</span><br><span class="line">        minCost[i] = <span class="built_in">min</span>(minCost[i - <span class="number">1</span>] + cost[i], minCost[i - <span class="number">2</span>] + cost[i - <span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minCost[size - <span class="number">1</span>];<span class="comment">//数组下标从0开始</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="8-获取生成数组中的最大值">8.获取生成数组中的最大值</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220303201025.png" alt=""></p><p>非动态规划做法</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">getMaximumGenerated</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> *nums=<span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">    nums[<span class="number">0</span>]=<span class="number">0</span>;nums[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">0</span>||n==<span class="number">1</span>) <span class="keyword">return</span> nums[n];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n/<span class="number">2</span>;i++)&#123;</span><br><span class="line">        nums[<span class="number">2</span>*i]=nums[i];</span><br><span class="line">        <span class="keyword">if</span>(<span class="number">2</span>*i+<span class="number">1</span>&lt;=n)&#123;</span><br><span class="line">            nums[<span class="number">2</span>*i+<span class="number">1</span>]=nums[i]+nums[i+<span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n+<span class="number">1</span>;i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(ans&lt;nums[i])&#123;</span><br><span class="line">            ans=nums[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>动态规划做法(用vector向量来做很不错)</p><blockquote><p>i为奇数,nums[i]=nums[i/2]+nums[i/2+1];<br>i为偶数,nums[i]=nums[i/2];<br>可见两者都有nums[i/2]，可合并。</p><p>nums[i]=nums[i/2]+(i%2)*nums[i/2+1];</p></blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">getMaximumGenerated</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> maxn = <span class="number">1</span>;</span><br><span class="line">        <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">ans</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">0</span>)<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        ans[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        ans[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            ans[i] = ans[i/<span class="number">2</span>] + (i%<span class="number">2</span>)*ans[i/<span class="number">2</span>+<span class="number">1</span>];</span><br><span class="line">            maxn = <span class="built_in">max</span>(maxn,ans[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxn;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="9-传递信息">9.传递信息</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220303215011.png" alt=""></p><p>动态规划的基本思路其实已经有了，就是难以通过代码实现出来，就很尴尬。</p><p>定义动态规划的状态 <code>dp[i][j]</code>为经过 i轮传递到编号 j的玩家的方案数</p><p>那么<code>dp[0][j]</code>=1(当j=0时，就是自己给自己)，<code>dp[0][j]</code>=0(当j不等于0的时候)</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220303215428.png" alt=""></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">numWays</span><span class="params">(<span class="keyword">int</span> n, vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt;&amp; relation, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="keyword">int</span>&gt;&gt;<span class="built_in">dp</span>(k+<span class="number">1</span>,vector&lt;<span class="keyword">int</span>&gt;(n));</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">auto</span>&amp; edge :relation )&#123;</span><br><span class="line">            <span class="keyword">int</span> s1=edge[<span class="number">0</span>],s2=edge[<span class="number">1</span>];</span><br><span class="line">            dp[i+<span class="number">1</span>][s2]+=dp[i][s1];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[k][n<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="10-三步走问题">10.三步走问题</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220305205931.png" alt=""></p><p>思路：状态转移方程其实就是<code>dp[i]=(dp[i-1]+dp[i-2]+dp[i-3])</code></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//原始版本 结果就是堆栈爆炸嚓</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">waysToStep</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="function">vector&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; <span class="title">dp</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">0</span>]=<span class="number">1</span>;dp[<span class="number">1</span>]=<span class="number">1</span>;dp[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            dp[i]+=(dp[i<span class="number">-1</span>]+dp[i<span class="number">-2</span>]+dp[i<span class="number">-3</span>])%<span class="number">1000000007</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改之后的版本，堆栈不炸了，这个方法很妙哈</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">waysToStep</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">long</span> dp[<span class="number">4</span>]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">7</span>&#125;;</span><br><span class="line">     <span class="keyword">if</span>(n&lt;<span class="number">5</span>) <span class="keyword">return</span> dp[n<span class="number">-1</span>]; </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">5</span>;i&lt;=n;i++)&#123;</span><br><span class="line">        dp[<span class="number">0</span>]=dp[<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">1</span>]=dp[<span class="number">2</span>];</span><br><span class="line">        dp[<span class="number">2</span>]=dp[<span class="number">3</span>];</span><br><span class="line">        dp[<span class="number">3</span>]=(dp[<span class="number">0</span>]+dp[<span class="number">1</span>]+dp[<span class="number">2</span>])%<span class="number">1000000007</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">3</span>];</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="11-按摩师问题">11.按摩师问题</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306211344.png" alt=""></p><p>到底还是自己题目做少了，遇到新的题目就没有啥思路了</p><p>这里直接看官方的解答，已经很妙了</p><p>主要还是滚动数组的思想</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306211427.png" alt=""></p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">massage</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> n = (<span class="keyword">int</span>)nums.<span class="built_in">size</span>();</span><br><span class="line">        <span class="keyword">if</span> (!n) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> dp0 = <span class="number">0</span>, dp1 = nums[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i)&#123;</span><br><span class="line">            <span class="keyword">int</span> tdp0 = <span class="built_in">max</span>(dp0, dp1); <span class="comment">// 计算 dp[i][0]</span></span><br><span class="line">            <span class="keyword">int</span> tdp1 = dp0 + nums[i]; <span class="comment">// 计算 dp[i][1]</span></span><br><span class="line"></span><br><span class="line">            dp0 = tdp0; <span class="comment">// 用 dp[i][0] 更新 dp_0</span></span><br><span class="line">            dp1 = tdp1; <span class="comment">// 用 dp[i][1] 更新 dp_1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp0, dp1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="12-不同的二叉搜索树">12 不同的二叉搜索树</h3><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220308212700.png" alt=""></p><p>这道题和复旦大学2019年的机试题很像，也更难一点，但对于理解动态规划很有意思</p><p>来看看官方的解答</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220308212814.png" alt=""></p><p>Code</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">numTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(n==<span class="number">1</span>||n==<span class="number">2</span>) <span class="keyword">return</span> n; </span><br><span class="line">        <span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">dp</span><span class="params">(n+<span class="number">1</span>)</span></span>;</span><br><span class="line">        dp[<span class="number">1</span>]=<span class="number">1</span>;dp[<span class="number">0</span>]=<span class="number">1</span>;dp[<span class="number">2</span>]=<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=n;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=i;j++)&#123;</span><br><span class="line">                dp[i]+=dp[j<span class="number">-1</span>]*dp[i-j];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h3 id="13-目标和">13 目标和</h3><p>再次感觉，废物永远就是废物，这道题目拿到手完全没有思路，就很痛苦，淦！</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220309200209.png" alt=""></p><h4 id="解答1-回溯法">解答1 回溯法</h4><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220309200515.png" alt=""></p><p>Code如下所示</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> &#123;</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// index标及下标是否超过nums数组范围，sum表示求和</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">backstrack</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt; &amp;nums, <span class="keyword">int</span> target, <span class="keyword">int</span> index, <span class="keyword">int</span> sum)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(index==nums.<span class="built_in">size</span>())&#123;</span><br><span class="line">            <span class="keyword">if</span>(sum==target)&#123;</span><br><span class="line">                count++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="built_in">backstrack</span>(nums,target,index+<span class="number">1</span>,sum+nums[index]);</span><br><span class="line">            <span class="built_in">backstrack</span>(nums,target,index+<span class="number">1</span>,sum-nums[index]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">findTargetSumWays</span><span class="params">(vector&lt;<span class="keyword">int</span>&gt;&amp; nums, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line">        <span class="built_in">backstrack</span>(nums,target,<span class="number">0</span>,<span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220309200603.png" alt=""></p><h4 id="解法2-完全看不懂">解法2 完全看不懂</h4><p>废物就是废物 淦</p><p>贴个链接，以后回来看</p><p><a href="https://leetcode-cn.com/problems/target-sum/solution/mu-biao-he-by-leetcode-solution-o0cp/">https://leetcode-cn.com/problems/target-sum/solution/mu-biao-he-by-leetcode-solution-o0cp/</a></p>]]></content>
      
      
      <categories>
          
          <category> 考研复试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研复试 </tag>
            
            <tag> c++ </tag>
            
            <tag> 动态规划 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>经典CNN总结</title>
      <link href="/2022/03/08/f_%E7%BB%8F%E5%85%B8%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%80%BB%E7%BB%93/"/>
      <url>/2022/03/08/f_%E7%BB%8F%E5%85%B8%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="1-Inception系列">1.Inception系列</h2><h4 id="GoogLeNet-InceptionV1">GoogLeNet(InceptionV1)</h4><h5 id="（一）综述">（一）综述</h5><p>最直接最保险获得高质量模型做法就是增加模型的深度（层数）或者是其宽度（层核或者神经元数）</p><p>但是这里一般设计思路的情况下会出现如下的缺陷：</p><blockquote><p>1.参数太多，若训练数据集有限，容易过拟合</p><p>2.数据集标注难，成本高，不经济</p><p>3.网络越大计算复杂度越大，难以应用</p><p>4.网络越深，梯度越往后穿越容易消失，难以优化模型</p></blockquote><p>解决上述缺点的根本途径是用稀疏的连接结构来取代密集的连接结构。传统的网络都使用了随机稀疏连接来打破网络对称性和提高学习能力。但是现在的计算机软硬件对非统一/均匀的系数数据的计算效率不高。</p><p>因此有没有一种可能，能否在仍旧利用现有硬件进行密集矩阵运算的条件下，改进模型结构，哪怕只在卷积层水平改进从而能够利用额外的稀疏性呢？</p><h5 id="（二）Inception模块介绍">（二）Inception模块介绍</h5><p><strong>Inception的核心思想使用密集的模块去近似出最优的局部系数结构</strong></p><p><strong>Inception的作用：代替人工确定卷积层中的过滤器类型或者确定是否需要创建卷积层和池化层，即：不需要人为的决定使用哪个过滤器，是否需要池化层等，由网络自行决定这些参数，可以给网络添加所有可能值，将输出连接起来，网络自己学习它需要什么样的参数</strong></p><p>原生的inception模块如下如图所示</p><blockquote><p>1 . 采用不同大小的卷积核意味着不同大小的感受野，最后拼接意味着不同尺度特征的融合；</p><p>2 . 之所以卷积核大小采用1<em>1、3</em>3和5*5，主要是为了方便对齐。设定卷积步长stride=1之后，</p><p>只要分别设定padding =0、1、2，采用same卷积可以得到相同维度的特征，然后这些特征直接拼接在一起；</p><p>3 . 文章说很多地方都表明pooling挺有效，所以Inception里面也嵌入了pooling。</p><p>4 . 网络越到后面特征越抽象，且每个特征涉及的感受野也更大，随着层数的增加，3x3和5x5卷积的比例也要增加</p></blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220308221238.png" alt=""></p><p>改进型inception模块使用了1x1的卷积，解决了原生模块计算量爆炸的问题</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220308221427.png" alt=""></p><h5 id="（三）论文要点">（三）论文要点</h5><p>（1）.深度，层数更深，文章采用了9组inception模块，22层。为了避免梯度消失的问题，增加了两个辅助分类器，用来在反向传播过程中为前面的层注入梯度</p><p>（2）.宽度，增加了多种核 1x1，3x3，5x5。多尺度卷积核并行，总有一个能捕捉到想要的特征。使用1x1卷积核大大降低计算量</p><p>（3）网络最后采用了average pooling来代替全连接层，想法来自NIN,参数量仅为AlexNet的1/12,性能优于AlexNet，事实证明可以将TOP1 accuracy提高0.6%。但是，实际在最后还是加了一个全连接层，主要是为了方便finetune</p><p>（4）网络中依然使用了Dropout技术</p><h4 id="InceptionV2-V3">InceptionV2/V3</h4><h5 id="（一）综述-2">（一）综述</h5><p>卷积神经网络在计算机视觉领域大放异彩，但是在加宽加深模型的同时，要考虑到计算效率，不能一味地增大。考虑到边缘设备，移动设备。</p><p>提出了四个设计准则：顺我者昌，逆我者亡</p><blockquote><p>a.避免过度降维或收缩特征bottleneck，特别是在网络浅层</p><p>b.特征越多，收敛越快：eg给你更多猫的特征，你就能判断他是一直猫</p><p>c.3x3和5x5卷积核之前用1x1卷积核进行升维，信息不会丢失</p><p>d.均衡网络的宽度和深度，两者同时提升，即可升高性能，又能提高计算效率</p></blockquote><h5 id="（二）InceptionV2">（二）InceptionV2</h5><p>InceptionV2用两个3x3卷积核代替了5x5的卷积核</p><p><strong>增加网络深度，提高网络的非线性表达能力，保持感受野范围的同时又减少了参数量</strong></p><center class="half"><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220308223452.png" width=400/><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220308223514.png" width=400/></center>除此之外，InceptionV2还提出了大名鼎鼎的Batch Normalization方法<p><a href="https://newblog.leohu.me/2022/03/07/cs231n%E4%BC%98%E5%8C%96%E5%99%A8BN/#BN%E5%9F%BA%E6%9C%AC%E6%80%9D%E6%83%B3">BN层看这篇笔记吧</a></p><h5 id="（三）InceptionV3">（三）InceptionV3</h5><p>（1）不对称卷积+扩展滤波器组</p><p>不对称卷积也起到减少计算量，增加网络深度的作用。但这种卷积在靠前的层效果不好，feature在12-20之间比较合适</p><p>扩展滤波器组起到加宽网络，升维的作用。在最后分类层之前，用改模块扩展特征维度，生成高维稀疏特征</p><center class="half"><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220308225145.png" width=350/><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220308225211.png" width=400/></center><p>（2）Label Smoothing</p><p>对于一个三分类问题，想要得到一个结果（1，0，0），网络会无所不用其极的增加想要的类别的logit分数，正确类别的分数会一味增大，直到正无穷，这样就使得模型死记硬背，可能造成过拟合。而使用label smoothing之后，或许只需要当结果为0.9的时候结束概率的增加，看似给了错误一点机会，其实是避免模型的盲目自信</p><h2 id="2-ResNet">2.ResNet</h2><h5 id="（一）综述-3">（一）综述</h5><p>文章首先提出了一个问题，能不能通过简单的堆叠网络层数，就能得到一个学习能力强大的网络?</p><p>事实是，随着网络的加深，会出现退化问题，也即是准确率会先上升到饱和，如果再增加网络深度，准确率就会下降。网络退化既不是由过拟合造成的，也不是由梯度消失造成。</p><p>因此，作者提出了一种解决办法：通过增加恒等映射(skip connection)的数据通道，使得在增加模型深度的同时，至少不会在训练集上变得更差</p><blockquote><p>大不了，我什么也不做，直接从恒等映射通道跳到下一个残差块</p><p>什么也不做，有时候很重要</p></blockquote><p>如果说传统神经网络想要拟合的函数是H(x)，那么引入恒等映射后，学习目标就变成了F(x)=H(x)-x，作者认为拟合H(x)和F(x)的效果是相似的，但是拟合F(x)的单独更低</p><blockquote><p>整个网络只需要学习输入和输出差别的那一部分，简化学习的目标和难度</p></blockquote><h5 id="（二）ResNet结构">（二）ResNet结构</h5><p>朴素版本的残差块如下所示</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220309225124.png" alt=""></p><p>作者针对18层和34层的网络做了实验</p><p><strong>未使用</strong>skip connection(恒等映射)的网络，层数越深，性能越差</p><p><strong>使用了</strong>skip connection的网络的网络，层数越深，性能越好</p><blockquote><p>Plain-networks使用了BN层，在训练过程中前向传播的时候，可以确保数据不会全挤在同一个数附近，也就是有非零方差；而在反向传播的时候，范数大小看起来也是健康的，<strong>所以网络退化问题不是又梯度消失导致的</strong></p><p>对于Plain-networks，作者使用了大量的数据，使用了多轮迭代，依旧不能解决网络退化问题，<strong>所以网络退化问题不是过拟合导致的</strong></p></blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220309225310.png" alt=""></p><p>为了节省计算效率，论文中还提出了三层的残差学习单元，形成了两头宽，中间窄的残差学习单元</p><blockquote><p>两头的1x1卷积，前一个是实现降维操作，后一个是实现升维操作。增加了网络的深度，减少了计算量，增加了网络的非线性表达能力</p></blockquote><p><img src="C:%5CUsers%5CJlthz%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220309230206036.png" alt="image-20220309230206036"></p><p>不同层数的ResNet</p><blockquote><p>resnet后边跟的数字代表有权重的层的数目</p></blockquote><p><img src="C:%5CUsers%5CJlthz%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220309230530174.png" alt="image-20220309230530174"></p><h5 id="（三）总结一下-ResNet能够解决网络退化的原因">（三）总结一下 ResNet能够解决网络退化的原因</h5><p>1.深层梯度回传流畅</p><blockquote><p>恒等映射一路的梯度是1，把深层的梯度注入底层，防止梯度消失，<strong>没有中间商层层盘剥</strong></p></blockquote><p>2.类比其它机器学习模型</p><blockquote><p>LSTM的遗忘门，残差有用就保留记忆，残差没用就恒等映射</p></blockquote><p>3.传统的线性结构网络难以拟合恒等映射</p><blockquote><p>a.高度非线性会造成不可弥补的信息损失，使用恒等映射，直接找回损失</p><p>b.什么都不做有时候很重要，普通的神经网络总会训练点什么出来</p><p>c.恒等映射可以让模型自行选择要不要更新</p></blockquote><p>4.ResNet其实相当于几个浅层网络的集成</p><blockquote><p>下边这个图应该可以说清楚了，有点densenet的感觉</p><p><img src="C:%5CUsers%5CJlthz%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220309232827511.png" alt="image-20220309232827511"></p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 考研复试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研复试 </tag>
            
            <tag> CNN </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cs231n之BN/优化器</title>
      <link href="/2022/03/07/cs231n%E4%BC%98%E5%8C%96%E5%99%A8BN/"/>
      <url>/2022/03/07/cs231n%E4%BC%98%E5%8C%96%E5%99%A8BN/</url>
      
        <content type="html"><![CDATA[<h2 id="1-BN"><a href="http://1.BN">1.BN</a></h2><p>CS231N课程中对BN层的解释是，将数据分布强行转为标准正态分布，也即均值为0，标准差为1的分布</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306222044.png" alt=""></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306222552.png" alt=""></p><p>课程中对BN的讲解很泛，听了两遍，依然觉得模模糊糊，来看下郭耀华大佬的</p><h4 id="Internal-Covariate-Shift">Internal Covariate Shift</h4><p>对于深度学习这种包含很多隐层的网络结构，在训练过程中，因为各层参数不停在变化，所以每个隐层都会面临covariate shift的问题，也就是<strong>在训练过程中，隐层的输入分布老是变来变去，这就是所谓的“Internal Covariate Shift”，Internal指的是深层网络的隐层，是发生在网络内部的事情，而不是covariate shift问题只发生在输入层</strong></p><h4 id="BN基本思想">BN基本思想</h4><p>BN的基本思想其实相当直观：因为深层神经网络在做非线性变换前的<strong>激活输入值</strong>（就是那个x=WU+B，U是输入）<strong>随着网络深度加深或者在训练过程中，其分布逐渐发生偏移或者变动，之所以训练收敛慢，一般是整体分布逐渐往非线性函数的取值区间的上下限两端靠近</strong>（对于Sigmoid函数来说，意味着激活输入值WU+B是大的负值或正值），所以这<strong>导致反向传播时低层神经网络的梯度消失</strong>，这是训练深层神经网络收敛越来越慢的<strong>本质原因</strong>，<strong>而BN就是通过一定的规范化手段，把每层神经网络任意神经元这个输入值的分布强行拉回到均值为0方差为1的标准正态分布</strong>，其实就是把越来越偏的分布强制拉回比较标准的分布，这样使得激活输入值落在非线性函数对输入比较敏感的区域，这样输入的小变化就会导致损失函数较大的变化，意思是<strong>这样让梯度变大，避免梯度消失问题产生，而且梯度变大意味着学习收敛速度快，能大大加快训练速度</strong></p><p>一言以蔽之：<strong>对于每个隐层神经元，把逐渐向非线性函数映射后向取值区间极限饱和区靠拢的输入分布强制拉回到均值为0方差为1的比较标准的正态分布，使得非线性变换函数的输入值落入对输入比较敏感的区域，以此避免梯度消失问题</strong></p><h4 id="BN好处">BN好处</h4><p><strong>①</strong> <strong>提升了训练速度，加速收敛过程o，改善梯度，远离饱和区</strong></p><p><strong>②类似于Dropout的正则效果，避免过拟合</strong></p><p><strong>③调参过程中可以使用大的学习率</strong></p><h4 id="注意">注意</h4><p>在训练过程中使用minibatch的均值和方差，而在前向推理过程中使用全局的均值和方差</p><h2 id="2-优化器">2.优化器</h2><h3 id="1-SGD">1.SGD</h3><h5 id="原生的特点">原生的特点</h5><p>a.在梯度较大的方向上发生振荡，但这种振荡并不能仅通过减小学习率来解决</p><blockquote><p>因为学习率一小，正确方向的梯度也减小了</p></blockquote><p>b.原生的SGD容易陷入局部最优点也就是鞍点</p><p>c.SGD的梯度来自mini-batch，有噪声</p><h5 id="优化">优化</h5><p>引入Momentum动量。动量能起到平均平滑的作用，每次都抵消掉振荡的部分，让该更新的地方更新。</p><p>下图中vx就是动量，初始为0，到rho为0时，和原生的SGD没有明显区别。rho通常去0.9/0.99，表示的意思是对过去影响的衰减</p><blockquote><p>引入动量之后，实际上把上一步的影响/惯性纳入到了当前步的决策当中</p></blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306225743.png" alt=""></p><p>Nesterov，另一种动量，棋高一手，先一步感知，预测未来</p><p><img src="C:%5CUsers%5CJlthz%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220306230313348.png" alt="image-20220306230313348"></p><h3 id="2-AdaGard">2.AdaGard</h3><p>在SGD的基础上，在梯度较大的振荡方向加入惩罚项</p><blockquote><p>But,当惩罚项过于大的时候，后边可能不再更新</p></blockquote><p>下图中，dx就是梯度，梯度很大，则grad_squared也很大，所以分母也很大</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306230604.png" alt=""></p><h3 id="3-RMSProp">3.RMSProp</h3><p>在AdaGrad基础上，对grad_squard引入了衰减因子<code>decay_rate</code></p><blockquote><p>也即保留多少之前的惩罚项，保留多少现在的惩罚项</p></blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306230841.png" alt=""></p><h3 id="4-Adam">4.Adam</h3><p>结合了第一动量和第二动量</p><blockquote><p>fitst_moment初始化为0，预热较慢，设置first_unbias项，beta1是一个小于1的数，因此一开始，first_unbias可以有一个不小的值。随着t的增加，分母逐渐变大。</p></blockquote><p><img src="C:%5CUsers%5CJlthz%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20220306231200514.png" alt="image-20220306231200514"></p><h2 id="3-学习率">3.学习率</h2><p>学习率过大，振荡</p><p>学习率过小，难以快速收敛</p><h2 id="4-正则话">4.正则话</h2><h3 id="L1和L2">L1和L2</h3><h3 id="Dropout">Dropout</h3><p>引入稀疏性，打破神经元之间的联合依赖适应性</p>]]></content>
      
      
      <categories>
          
          <category> 考研复试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研复试 </tag>
            
            <tag> cs231n </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cs231n之激活函数/数据预处理/权重初始化/</title>
      <link href="/2022/03/07/cs231n%E8%AF%BE%E7%A8%8B%E8%A6%81%E7%82%B9%E8%AE%B0%E5%BD%95/"/>
      <url>/2022/03/07/cs231n%E8%AF%BE%E7%A8%8B%E8%A6%81%E7%82%B9%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<p>1.梯度下降指的是使得损失函数下降，而不是梯度本身下降</p><p>2.全部数据一起传输进去神经网络是不经济的，内存吃不消，以mini-batch输入神经网络</p><p>3.激活函数为模型引入了非线性因素，解决线性模型所不能解决的问题</p><h2 id="1-激活函数">1.激活函数</h2><p>其实没啥好说的，说来说去就是那几个点，一般也是问Relu函数有啥作用</p><p><a href="https://www.cnblogs.com/guoyaohua/p/8727509.html">郭耀华大佬的博客</a>从另外的角度总结了下Relu激活函数，这里做一个摘抄</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306220128.png" alt=""></p><h2 id="2-数据预处理（特征工程）">2.数据预处理（特征工程）</h2><p>标准化处理数据：损失函数对w的微笑改变不那么敏感，更容易优化</p><p>几个经典网络采取的措施</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306220549.png" alt=""></p><h2 id="3-权重初始化">3.权重初始化</h2><p>所有权重不能初始化为同一个常数，否则无法打破“对称性”</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20220306220813.png" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 考研复试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研复试 </tag>
            
            <tag> cs231n </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用Fail2ban防ssh暴破</title>
      <link href="/2022/01/03/fail2ban%E9%98%B2ssh%E6%9A%B4%E7%A0%B4/"/>
      <url>/2022/01/03/fail2ban%E9%98%B2ssh%E6%9A%B4%E7%A0%B4/</url>
      
        <content type="html"><![CDATA[<h4 id="1-安装fail2ban">1.安装fail2ban</h4><p>CentOS</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install fail2ban</span><br></pre></td></tr></table></figure><p>Debian</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install fail2ban</span><br></pre></td></tr></table></figure><h4 id="2-新建一个sshd的配置">2.新建一个sshd的配置</h4><p>可以使用finalshell直接访问到路径</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/fail2ban/jail.d/sshd.local</span><br></pre></td></tr></table></figure><p>eg</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[ssh-iptables]</span><br><span class="line">enabled  = true</span><br><span class="line">filter   = sshd</span><br><span class="line">action   = iptables[name=SSH, port=ssh, protocol=tcp]</span><br><span class="line">logpath  = /var/log/secure</span><br><span class="line">maxretry = 6   # 最多连接6次失败</span><br><span class="line">bantime  = 6048000   # 禁止70天（按秒计算）</span><br></pre></td></tr></table></figure><p>如果是<strong>debian</strong>或<strong>ubuntu</strong>系统，<strong>logpath</strong>需要修改成/var/log/auth.log<br>保存这个文件。</p><h4 id="3-启动">3.启动</h4><p>CentOS 7等使用systemctl方式启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start fail2ban.service</span><br></pre></td></tr></table></figure><p>老的init启动脚本方式的启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service fail2ban start</span><br></pre></td></tr></table></figure><p>Debian</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/etc/init.d/fail2ban start</span><br></pre></td></tr></table></figure><h4 id="4-检查进程，防火墙是否生效">4.检查进程，防火墙是否生效</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iptables -L -n</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vps </tag>
            
            <tag> 技术 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>考研英语_小作文素材</title>
      <link href="/2021/12/13/a%E5%B0%8F%E4%BD%9C%E6%96%87%E7%B4%A0%E6%9D%90/"/>
      <url>/2021/12/13/a%E5%B0%8F%E4%BD%9C%E6%96%87%E7%B4%A0%E6%9D%90/</url>
      
        <content type="html"><![CDATA[<h3 id="基础">基础</h3><p>905 /619 房间号，楼栋号，校园</p><blockquote><p>I am a student/sophomore living in room 123, the first student dormitory of our university. （ 表 明 目 的 ） I write this letter to express my dissatisfaction with the guys living in room 121</p></blockquote><p>in response to,xxx</p><blockquote><p>被动建议</p></blockquote><p>as a responsible/liable and warm-hearted reader/student/would-be graduate(临近毕业的学生)</p><p>I feel obliged to give some advice about how improve the management of</p><blockquote><p>主动建议</p></blockquote><p>cannot help doing sth 情不自禁做某事</p><p>cannot wait to do迫不及待做某事</p><h3 id="个人习惯">个人习惯</h3><p>I’m a bit of a neat freak, and I always have personal items organized, thus…</p><blockquote><p>我有一点洁癖，总是喜欢将个人物品收放整齐</p></blockquote><p>This has made my roommates and me unable to focus attention on academic study and have a good sleep.</p><p>Live stream v.直播 n.一场直播</p><p>Live stream the wedding 直播这场婚礼</p><p>Only to … 却…</p><blockquote><p>I arrived at the station, only to find that the train had left.却发现火车已经开走了</p></blockquote><p>in some restaurant famous for its local cuisine 当地有名的菜</p><p>be named after:以。。。为名命</p><blockquote><p>Tianfu Square,which is named after a line of verse written by known poet from Tang dynasty</p><p>天府广场以一行诗名命</p></blockquote><p>large music fountain show 大型的音乐喷泉秀</p><p>full of chinese elements 充满中国元素</p><p>have supper 吃晚餐</p><p>best wishes最美好的祝愿</p><p>be initiated by … 由… 发起</p><p>answer the global call  响应全球号召</p><p>conserve energy and reduce emission 节能减排</p><p>turn down the tap 关小水龙头</p><h3 id="个人品质">个人品质</h3><p>Those who possess good communication skills and organizational capabilities are preferred.</p><p>Also, the qualities of optimism, integrity,and persistence are highly valued.</p><p>​</p>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研英语 </tag>
            
            <tag> 小作文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>408_考频统计</title>
      <link href="/2021/12/05/408%E8%80%83%E9%A2%91%E7%BB%9F%E8%AE%A1/"/>
      <url>/2021/12/05/408%E8%80%83%E9%A2%91%E7%BB%9F%E8%AE%A1/</url>
      
        <content type="html"><![CDATA[<h3 id="计组">计组</h3><p><img src="https://edu-image.nosdn.127.net/f8c8dcba37e04a1c85919c3e2d6bbd55.png" alt="1"></p>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 408 </tag>
            
            <tag> 考频统计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>考研英语_大作文素材</title>
      <link href="/2021/11/29/a%E5%A4%A7%E4%BD%9C%E6%96%87%E7%B4%A0%E6%9D%90/"/>
      <url>/2021/11/29/a%E5%A4%A7%E4%BD%9C%E6%96%87%E7%B4%A0%E6%9D%90/</url>
      
        <content type="html"><![CDATA[<h3 id="基础内容">基础内容</h3><p>million百万</p><blockquote><p>1300万：13 million；700万：7million</p></blockquote><p>ton 吨</p><blockquote><p>10吨：10tons</p></blockquote><p>大一 freshman；大二 sophomore；大三 junior；大四 senior</p><p>public transport 公共交通</p><p>traffic congestion 交通杜塞</p><p>infrastructure基础设施建设 to participate in City construction</p><p>shared bikes共享单车</p><p>dweller居民</p><p>sth become the first choice for sb to do</p><blockquote><p>As the gathering places for social and histroical culture, museums have become the the first choice for cicizens to visit and learn</p></blockquote><h3 id="经济类">经济类</h3><p>(随着经济的繁荣发展)</p><p>we tend to think of the decades following World War 2 as a time of prosperity and growth</p><blockquote><p>the comes of economical prosperity and growth</p><p>with the coming of economical prosperity and growth</p><p>with the fast economic development these years, Chinese food industry has experienced a dramatic growth</p></blockquote><p>The advances in globalization and the information technology revolution</p><blockquote><p>全球化的发展与信息科技革命</p></blockquote><p>(经济条件不是该趋势流行的唯一的因素)</p><p>Economic condition is only a stimulus for the trend toward efficient livin g</p><p>(这些因素对。。施加了巨大的影响)</p><p>These factors come to exert enormous influence on the…</p><p>(掩盖真象)</p><p>sb mask the fact that</p><p>经济：快速发展-》高薪工作岗位</p><blockquote><p>economy and technology have developed fast/well-paid jobs</p></blockquote><p>政策：优厚政策–学费减免reducing tuition/福利分房granting apartments</p><blockquote><p>Chinese government and corporations/enterprises have introduced highly competive policies such as reducing tuition and granting apartments</p></blockquote><p>媒体：互联网化媒体发展-》展示中国各种好</p><blockquote><p>As the Internet media boom/with XXX developing/booming, an increasing number of articles and short videos that showcase(展示) the prospects of studying, working and living in China are going viral on the web，exerting huge influence on …</p></blockquote><p>Indeed, the period of economic weakness may reinforce class divides and decrease oppprtunities to cross them–especially for young people</p><blockquote><p>经济萧条会加剧阶级分化，并减少阶级弥合的机会，对于年轻人尤其如此。</p></blockquote><p>due to the incrasing household income of Chinese families，Chinese studens‘ spending power are greater</p><blockquote><p>家庭收入的增长促进了消费能力的增长</p></blockquote><p>购买力 spending power</p><p>家庭收入 the household income of Chinese families</p><p>可支配收入 the disposable income</p><p>The past decade has witnessed a tremendous 巨大的 progress in information technology</p><blockquote><p>修辞：时间段 +has/have witnessed + 某种变化</p><p>The past forty years have witnessed the dramatic change of China.</p></blockquote><p>China has undergone an unprecedented urbanlization during the past twenty years with millions of new work positons created</p><blockquote><p>前所未有的城市化进程，数百万计的工作岗位</p></blockquote><p>enjoy the fruits of urbanlization</p><blockquote><p>享受城市化进程的福利</p></blockquote><p>移动支付 mobile payment</p><p>刷卡 card /bank card /credit card</p><blockquote><p>刷卡支付card payment</p></blockquote><p>现金 cash</p><blockquote><p>现金支付cash payment</p></blockquote><p>移动支付供应商 mobile payment providers</p><blockquote><p>Alipay、Wechat Pay、Apple Pay、Google Pay</p><p>提供offer\present,presen的生僻含义“提供&quot;</p></blockquote><blockquote><p>Secondly, there is no denying that mobile payment providers sometimes present/offer coupons. Thus, this saves consumers a sum of money</p></blockquote><p>降低…的风险 lower the risk of doing sth</p><blockquote><p>降低考试失败的风险 lower the risk of failing a test/exam</p></blockquote><p>All the advantages have made mobile paymentthe predominant占主导地位的 payment method</p><blockquote><p>The mainstream payment method</p><p>the main/major payment method</p></blockquote><p>Because of all the advantages, mobile payment has come to take the lead.</p><p>Come to do 逐渐做到某事/怎么样</p><p>Over consumption 过度消费</p><p>Excessive consumption超前消费</p><blockquote><p>花呗，从心理上促进你的消费</p></blockquote><p>the dramatic economic development allows Chinese people to develop a strong desire for possessing and using more and more better things.</p><p>Although exchanging festival gifts, as a way of maintaining friendly sentiment, should be carried forward, one should keep the expenditure within the range that one can afford,avoiding excessive consumption.</p><blockquote><p>交换礼物维系友谊的传统值得传承，但是花销应当在一个人可承受的范围内</p></blockquote><p>“price” occupies the largest part, mainly because most university students depend financially on their parents and thus cannot afford a pricy high-end smartphone</p><blockquote><p>学生经济不独立=经济上依赖父母=没有直接收入来源</p><p>high-end高端smartphone</p></blockquote><p>financially secure经济保障</p><p>young graduates are more likely to prioritize personal fulfillment in their work</p><blockquote><p>年轻人优先考虑工作中的成就感</p></blockquote><p>with the fast social development, Chinese people’s living conditions have improved dramatically</p><h3 id="科技类">科技类</h3><p>As the smartphone industry is highly advanced, the performance gap among different smartphones of the same tier becomes small/negligible.</p><blockquote><p>the same tier同代，当前等级</p><p>first-tier city一线城市</p><p>second-tier city二线城市</p></blockquote><blockquote><p>智能手机工业发展，不同智能鸡的性能相差很小</p><p>Negligible 可忽略不计的</p><p>XX industry某产业/行业/工业</p><p>XX gap</p><p>Wealth gap 贫富差距</p><p>Generation gap 代沟</p><p>Performance gap 性能差距</p></blockquote><p>Performance in taking photos 拍照性能</p><p>Camera’s performance and screen size are also two main factors, the reason may be that a powerful camera allows students to record their university life better, while a large screen makes it more convenient to attend online courses上网课 and play games.</p><p>the advancing technology</p><blockquote><p>不断进步的技术</p><p>because of the advancing technology, electronic products become more varied and more powerful.</p></blockquote><p>Living conditions 生活水平 Living standards 生活标准 Quality of life 生活质量</p><h3 id="健康类">健康类</h3><p>生病 develop a disease like cancer and high blood pressure</p><p>staple foods 主食</p><p>physical appearance 外形</p><p>心脏病 heart attack</p><p>抑郁症 depression</p><p>Therefore, cashless payment helps lower the risk of developing certain diseases</p><p>bacteria细菌</p><blockquote><p>Finally, it cannot be ignored that there are a variety of bacteria on cash.</p></blockquote><p>Some students spending much time using smartphones develop physical and/or mental diseases</p><blockquote><p>physical and/or mental diseases精神 心理上的问题</p></blockquote><p>Develop a disease 患某种疾病</p><p>Physical disease 身体疾病</p><p>Mental disease 精神疾病</p><p>obesity 肥胖病</p><p>poor digestionn 消化不良</p><p>高血压 high blood pressure</p><p>心脏病 heart attack</p><p>癌症 cancer</p><h3 id="文学类">文学类</h3><p>经典文学 classical literature</p><p>人物传记 biography</p><p>历史政治history and politics</p><p>科幻小说 science fiction</p><h3 id="教育类">教育类</h3><p>The best jobs will require workers to have more and better education to make themselves above average</p><blockquote><p>教育使人脱离平庸/脱颖而出</p></blockquote><p>compulsory education</p><blockquote><p>the populatization of complusory education has enlarged people’s vision and encouraged them to pursue/seek sanem diverse/corlouful career paths as citizens.</p></blockquote><p>public cultural undertakings 公共文化事业</p><p>strengthen the cultural awareness of oublic and enhance national cohesion增强文化意识，提高民族凝聚力</p><p>begin to pursue the spiritual enjoyment 追求精神享受</p><p>cultural development and prosperity文化发展和繁荣</p><h3 id="环保类">环保类</h3><p>The economic booms has brought with it severe envirinmental problems</p><blockquote><p>经济的增长带来了严重的环境问题</p><p>the buttery problems 电池污染</p></blockquote><p>environmental pollution and public health crisis</p><blockquote><p>环境污染和公共健康危机</p></blockquote><p>Clear waters and green mountains are as good as mountains of gold and silver.</p><p>Lucid waters and lush mountains are invaluable assets</p><blockquote><p>上面两句：绿水青山就是金山银山</p></blockquote><p>electronic garbage and plastic garbage</p><blockquote><p>电子垃圾和塑料垃圾</p></blockquote><p>智能手机 smartphones，笔记本电脑 laptop，家用电器 home appliance</p><p>外卖餐盒takeout box，塑料袋 plastic bag，软饮料包装 softdrink bottle，快递包装 package</p><h3 id="交通出行">交通出行</h3><p>trip尤其指代短途旅行，而travel可以指带出行和旅行，其含义最广。</p><blockquote><p>commute特质通勤，上下班</p></blockquote><p>Bike sharing /sharing bike /shared bike(bicycle) 共享单车</p><p>public transportation system公共交通系统</p><h3 id="其他类">其他类</h3><p>(努力终有回报) All your efforts and perseverance paid off.</p><p>help you adapt to the college life, several practical suggestions are offered.</p><p>staple foods 主食</p><p>physical appearance 外形</p><p>重视 attach importance to / pay attention to</p><p>cultivate their mind 陶冶情操</p><p>Explore different possibilities 探索不同可能性</p><p>Miss out on opportunities to do 错过做某事的机会</p><p>the society will be more harmonious 社会和谐</p><p>among常用介词，可以表示一堆事物之间，也可以表示和紧跟着的数据有关</p><p>A and B converge on one key point</p><blockquote><p>A和B在这个观点上一致</p></blockquote><p>prospects前景</p>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研英语 </tag>
            
            <tag> 大作文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>考研英语_大作文</title>
      <link href="/2021/11/29/a%E5%A4%A7%E4%BD%9C%E6%96%87/"/>
      <url>/2021/11/29/a%E5%A4%A7%E4%BD%9C%E6%96%87/</url>
      
        <content type="html"><![CDATA[<h2 id="1-静态图首段">1.静态图首段</h2><h4 id="首段">首段</h4><p>(概述图表信息)</p><p>The chart/table illustrates the number/proportion/percentage of</p><p>(多个类)</p><p>表示1：“A” account for x%, followed by “B”(y%). C take up “z”%</p><blockquote><p>“A” accounts for 54.30%, followed by “B” (47.70%). “C” and “D” take up 23.90% and 15.80% respectively</p></blockquote><p>表示2：“A”(41%) claims the first place, followed by &quot;B“(38%) . “C” complete the top three.</p><blockquote><p>“Textbook”(41%)claims the first place, followed by &quot;popular literature“(38%) and “others”(11%). “Magazines”(10%) complete the top four.</p></blockquote><h2 id="2-动态图首段">2.动态图首段</h2><p><strong>总起</strong></p><p>The chart/table illustrates the number/proportion/percentage of</p><blockquote><p>例句</p><p>1.The chart illustrates the number of foreign students coming to China and that of Chinese students returning from abroad in a given period</p><p>2.The chart illustrates/shows/demonstrates the proportion of different types of food consumed by xx</p></blockquote><p>The chart gives information about the proportion</p><blockquote><p>The chart gives information about the proportion of three different payment methods among residents/citizens from China in a given period</p><p>Chinese residents/citizens中国居民</p></blockquote><p><strong>引用关键数据</strong>（动态图数据一般只写首尾状态，不必细节描写）</p><p>（上升下降）</p><p>可用关键词</p><blockquote><p>上升 increase[increased]/rise[rose]/grow[grew]/soar[soared]</p><p>下降 decrease[decreased]/drop[dropped]/fall[fell]/decline[declined]/reduce[reduced]</p></blockquote><p>The number of xxx increased/rose from A in 2012 to B in 2018,  <u>while the figure</u> for those B also experienced a growth/increase/rise</p><blockquote><p>两条线对比，巧用while</p><p>避免重复while the figure，动词换成名词 growth/increase/rise</p><p>数据用英文的单位，32.5万=“325 thousand”</p></blockquote><p>The percentage of meat consumed rose from 15% in 2012 to 34% in 2020, while the figures for vegetable s and staple food decreased from 28% to 22% and from 49% to 39% respectively during the same period</p><blockquote><p>respectively表示分别</p></blockquote><p>（剧烈变化）</p><p>As can be seen from the chart/table/diagram, great changes have taken place in xxx</p><p>（增长稳定）</p><p>experience a steady increase</p><h2 id="3-中间段">3.中间段</h2><p>动态图和静态图的中间段分析是具有共性的，因此总结到一块儿</p><h5 id="总起">总起</h5><p>The following factors contribute to the trends（缩减字数）</p><blockquote><p>Many factors can explain the trends, but three/two/one stand out</p></blockquote><p>The following factors contribute to the situation/circumstance/occasion reflected/shown in the chart/table</p><blockquote><p>静态图描述现状</p></blockquote><p><strong>逻辑论点论述</strong></p><p>（方式一）</p><p>Firstly, it is widely accepted that（大家普遍认为）.  As a result, xxx</p><p>Secondly, there is no denying that xxx, due to the xxxx. Thus they can xxx</p><p>Finally, it cannot be ignored that xxx. Therefore, in order to be more attractive, they</p><p>–</p><p>for example = to name only few</p><blockquote><p>逻辑思路：为什么1最高，为什么2和3比较高，为什么4最低</p></blockquote><p>（方式二）</p><p>Firstly, because of。。。。。</p><blockquote><p>electronic products become more varied and more powerful广泛且性能好</p></blockquote><p>Secondly, with the fast social development,</p><p>Finally, it cannot be ignored that xxx. Therefore, in order to be more attractive, they</p><p>–</p><p>for example = to name only few</p><p>（方式三）</p><p>Firstly, “xxxx” shares the largest part, mainly because xxxxx</p><blockquote><p>Firstly, “public transportation” shares the largest part, mainly because for a long-distance travel within a city, using public transportation saves commuters and students a great deal of money</p></blockquote><p>Secondly, xxxx is another preferred/main means（方式） of xxxxx, The reason may be that it is very convenient to xxxx, since you</p><blockquote><p>Secondly, shared bicycle is another preferred/main means of travel.The reason may be that it is very convenient to reach the place not far away, since you do not need to wait for a bus or subway train.</p></blockquote><p>Finally, as to why “xxxx” and “xxxxxx” take up a relatively small proportion, my opinion is that xxx</p><blockquote><p>Finally, as to why “driving” and “walking” take up a relatively small proportion, my opinion is that buying and maintaining a car is costly, while walking is slower than any other means.</p></blockquote><p>–</p><p>for example = to name only few</p><blockquote><p>逻辑思路：为什么1最高，为什么2和3比较高，为什么4最低</p></blockquote><p><strong>小结</strong></p><p>**All the changes mentioned above have made xxx **凑字数神器</p><blockquote><p>All the changes mentioned above have made China attractive to more and more foreign students and Chinese students studying abroad</p></blockquote><h2 id="4-尾段">4.尾段</h2><h5 id="1-动态图">1.动态图</h5><p>（1）预测走势，可能存在的问题（好的）</p><p>走势：There are goods reasons to believe that有充分的理由相信the figures will continue to rise in the future.</p><p>问题：However, problems have occurred. For example</p><blockquote><p>prefer to do … rather than do</p><p>Some universities and employers prefer to recruit foreign students or overseas returnees(原形returnee) rather those Chinese graduates who have no abroad experience/who have never been abroad</p></blockquote><p>解决：Only when these problems are properly dealt with can all young people realize their Chinese dreams</p><p>（2）预测走势，指出问题（好的）</p><p>走势：It is, in my opinion, highly possible that in the future, xxx.</p><p>问题：However, this may bring about problems such as</p><p>解决：Only when these problems are properly dealt with can</p><p>（3）图中展示的不好的问题比例走势（坏的）</p><p>（评价）负面趋势造成什么危害——破坏环境和公共健康</p><p>（建议 4 选 1 或 2）政府立法 / 媒体宣传 / 家长老师教育 / 当事人改变</p><p>（展望）社会和谐/未来光明</p><p>In my opinion,xxx poses a serious threat to the environment and public health</p><blockquote><p>Pose a serious threatto 对…造成威胁</p></blockquote><p>Therefore, our government need to xxxxxxx, while the mass media should launch campaigns to encourage consumers to xxxxx</p><blockquote><p>Our government need to urge manufacturers to extend the service life of their products, while the mass media should launch campaigns to encourage consumers to use fewer plastic-made products.</p></blockquote><blockquote><p>launch campaigns开展运动</p></blockquote><p>I believe that with these efforts, the society will be more harmonious</p><h5 id="2-静态图">2.静态图</h5><p>（1）</p><p>(评价问题)In my opinion</p><p>(指出问题)However, this also causes/presents problems</p><p>（2）如果不好写，可以对全文做个总结</p><p>In my opinion, this chart/table serves as an indirect reflection of the level of xxxx</p><blockquote><p>In my opinion, this chart/table serves as an indirect reflection of the level of the city’s public transportation system</p></blockquote><p>However, problems may occur. xxxxx</p><blockquote><p>However, problems may occur: Most citizens seldom traveling on foot may develop certain diseases such as obesity 肥胖病 and poor digestion消化不良</p></blockquote><p>Only when these problems are properly addressed can xxxx</p><blockquote><p>Only when these problems are properly addressed can every citizen live a happy life</p></blockquote><h2 id="5-实用短语">5.实用短语</h2><p>Itis widely accepted that…</p><p>There is no denying that…</p><p>It cannot be ignored that</p><p>In turn 反过来，进一步</p><blockquote><p>Finally, the population in China keeps growing, which in turn(further) adds to(promotes) the consumption of these products</p></blockquote><p>The population in China = Chinese population = the number of Chinese people/citizens/residents</p><p>Living conditions 生活水平 Living standards 生活标准 Quality of life 生活质量</p>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研英语 </tag>
            
            <tag> 大作文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>考研英语_小作文</title>
      <link href="/2021/11/22/a%E5%B0%8F%E4%BD%9C%E6%96%87/"/>
      <url>/2021/11/22/a%E5%B0%8F%E4%BD%9C%E6%96%87/</url>
      
        <content type="html"><![CDATA[<p>今年可能考 建议信/回复咨询信/通知</p><h2 id="1-落款">1.落款</h2><p>关系好：yours Li Ming</p><p>关系一般一点：Truly yours Li Ming</p><p>关系更一般一点：Sincerely/Respectfully yours Li Ming</p><h2 id="2-开头-结尾">2.开头/结尾</h2><h5 id="1-感谢信">1.感谢信</h5><p>I am writing to extend my heartfelt gratitude to you for your warm reception during my stay in the Cultural exchange program in America.</p><p>–</p><p>Again，your help and kindness are greatly appreciated from my bottom of my heart</p><h5 id="2-建议信-推荐信">2.建议信/推荐信</h5><p><strong>Begin</strong></p><p>（嘘寒问暖）</p><p>It’s been more than a month since we met last time. How’s everything going?</p><p>（表达目的）</p><p>I write to ask whether you cloud give me some proper advice/suggestions on the practice of oral English.</p><p><strong>END</strong></p><p>So I would appreciate it much if you point out my problems/give me a hand and offer some advice. Look forward to your reply.（祈使句，相当于I look forward to your reply）</p><p>Please feel free to write to me if you have further questions</p><h5 id="3-抱怨信">3.抱怨信</h5><p><strong>Begin</strong></p><p>I am a student/sophomore living in room 123, the first student dormitory of our university. （ 表 明 目 的 ） I write this letter to express my dissatisfaction with the guys living in room 121</p><p><strong>END</strong></p><p>（表达谢意+期待回复）I would appreciate it much if our university could help maintain a harmonious living environment.</p><h2 id="3-中间填充内容">3.中间填充内容</h2><h5 id="1-地点">1.地点</h5><p>Anxihu Wetland Park</p><p>Baoshan People’s Square/Park</p><h5 id="2-剧集">2.剧集</h5><p>American TV plays/drams/serials</p><blockquote><p>Friends、The Big Bang Theory</p></blockquote><h5 id="3-其它补充">3.其它补充</h5><p>Our friendship will never fade away whereever I go.</p><p>Put a word in the conversations/disscussion/debate</p><p>pay attention to/attach importance to</p><p>so as to do 以便于做某事</p><blockquote><p>so as to deal with personal information leakage, cyber theft and other challenges facing every student</p><p>cyber fraud 网络诈骗</p></blockquote><p>as to how:至于如何</p>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研英语 </tag>
            
            <tag> 小作文 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>408_计算机组成原理_第3章</title>
      <link href="/2021/08/29/408_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86_%E7%AC%AC3%E7%AB%A0/"/>
      <url>/2021/08/29/408_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86_%E7%AC%AC3%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="1-存储器相关概念">1.存储器相关概念</h2><p>1.RAM(Ramdom Access Memory)和ROM的存取方式都是随机存取的</p><p>2.主存和Cache之间的的数据调动是由硬件自动完成的，对于所有程序员都是透明的；而主存和辅存之间的数据调动是由硬件和操作系统共同完成，对于应用程序员是透明的</p><p>3.DRAM和SRAM</p><blockquote><p>DRAM采用地址复用技术，而SRAM不采用</p></blockquote><blockquote><p>DRAM用于主存，每个存储元件是造成本更低，集成度高，功耗低</p><p>SRAM用于Cache，每个存储元制造成本高，集成度低，功耗大</p></blockquote><blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829224742.png" alt=""></p></blockquote><blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829224951.png" alt=""></p></blockquote><p>4.DRAM电容上电荷最多只能能维持2ms，因此需要定期进行刷新，有三种刷新方式</p><blockquote><p>1.集中刷新：利用一段固定时间，依次对所有存储器进行刷新，存在死区(即此刻无法进行任何读写操作)</p><p>2.分散刷新： 每行读存取周期之后就紧接着刷新，相当于存取周期翻倍了，不存在死区。</p><p>3.异步刷新：本质是分散了1中的死区时间，将刷新间隔2ms除以行数，得到两次刷新操作之间的间隔t，每隔t就产生一次刷新请求。</p></blockquote><h2 id="2-主存储器和CPU连接">2.主存储器和CPU连接</h2><h4 id="1-存储器芯片的输入输出信号">1.存储器芯片的输入输出信号</h4><blockquote><p>CS：Chip Select</p><p>CE：Chip Enable</p><p>字符顶部加横线表示低电平有效</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829230930.png" alt=""></p></blockquote><h4 id="2-主存容量的扩展">2.主存容量的扩展</h4><ul><li><p>位扩展</p><p>利用多个低位数芯片组合到一起实现对字长进行扩充，增加存储字长</p><p>对于位扩展而言，某一时刻选中所有的芯片，片选信号CS要连接到所有芯片</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829230339.png" alt=""></p></li><li><p>字扩展</p><p>利用了MAR中空闲的高位，增加了存储器中字的数量</p><blockquote><p>1.使用了译码器的选择芯片的方法叫做<code>译码片选法</code>，下图中展示的是2-4译码器，将输入的两位地址信号映射为4个输出信号，对应选择四片不同的芯片。</p><p>2.不适用译码器，直接用地址线选择芯片的方法叫做<code>线选法</code>，因为每次指令只能选择一块芯片，所以线选并不能充分利用存储空间，会造成地址资源浪费</p></blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829230908.png" alt=""></p></li><li><p>字位同时扩展法</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829231748.png" alt=""></p></li></ul><h4 id="3-译码器">3.译码器</h4><p>译码器后面的小圆圈表示<code>非</code>运算，当取<code>非</code>的时候对应低电平有效的芯片</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829232125.png" alt=""></p><p>地址信息是通过电信号输送的，刚开始送出的时候，电流可能不稳定，使用<code>使能端</code>,保证片选的时候信号是稳定的</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829232448.png" alt=""></p><h2 id="3-多模块存储器和双端口RAM">3.多模块存储器和双端口RAM</h2><p>1.对于DRAM芯片而言，因为其破坏性易失性的特性，常常需要恢复原有的数据，而恢复的周期通常比较长。</p><p>2.单体多字存储器本质就是增加了容量而已，对于不连续的数据读取，工作速度会很慢</p><p>3.高位交叉编址是一种串行存取的顺序存储器，每次读取从每一块芯片的上到下读起，每读完一个地址都得等其恢复，速度很慢</p><p>4.低位交叉编址很好的利用了流水线的特性，大大增加了存取的速度</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210829233307.png" alt=""></p><h2 id="4-Cache">4.Cache</h2><h4 id="1-程序访问的局部性原理">1.程序访问的局部性原理</h4><p>时间局部性是指最近的未来要用到的东西，很可能是现在正在使用的东西</p><p>空间局部性是指最近的未来要用到的东西，很可能和现在正在使用的东西在空间上是邻近的</p><h4 id="2-Cache基本工作原理">2.Cache基本工作原理</h4><p>1.Cache仅保存主存中活跃的若干副本，缓解CPU与主存之间的速度矛盾</p><p>2.Cache并没有增加存储系统容量，其内部存储的仅仅是主存中元素的副本</p><p>2.CPU与Cache/主存之间的数据交换都以字为单位，而Cache和CPU之间的数据交换以块为单位</p><blockquote><p>主存的块也叫做“页/页框/页面”，Cache的块又叫做“行”</p></blockquote><h4 id="3-Cache与主存的3种映射关系">3.Cache与主存的3种映射关系</h4><ul><li><p>全相联映射</p><p>主存的每一块可以装入Cache的任意位置，这样的做的话，Cache块碰撞率低，空间利用率高，缺点是tag位比较的速度很慢。</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机组成原理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux关闭防火墙</title>
      <link href="/2021/08/28/Linux%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99/"/>
      <url>/2021/08/28/Linux%E5%85%B3%E9%97%AD%E9%98%B2%E7%81%AB%E5%A2%99/</url>
      
        <content type="html"><![CDATA[<h2 id="1-Ubuntu-Debian">1.Ubuntu/Debian</h2><p>安装ufw</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install ufw</span><br></pre></td></tr></table></figure><p>关闭</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw disable</span><br></pre></td></tr></table></figure><p>开启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw enable</span><br></pre></td></tr></table></figure><p>查看状态</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo ufw status</span><br></pre></td></tr></table></figure><h2 id="2-CentOS">2.CentOS</h2><p>查看防火墙状态</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --state</span><br></pre></td></tr></table></figure><p>停止firewall</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br></pre></td></tr></table></figure><p>禁止firewall开机启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl disable firewalld.service </span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vps </tag>
            
            <tag> 技术 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Azure VPS获得Root权限</title>
      <link href="/2021/08/28/Azure%20VPS%E8%8E%B7%E5%BE%97Root%E6%9D%83%E9%99%90/"/>
      <url>/2021/08/28/Azure%20VPS%E8%8E%B7%E5%BE%97Root%E6%9D%83%E9%99%90/</url>
      
        <content type="html"><![CDATA[<h2 id="1-获得一台AZ-VPS">1.获得一台AZ VPS</h2><p>此处省略1万字</p><h2 id="2-获取权限">2.获取权限</h2><h4 id="Step1：登入1中获得VPS">Step1：登入1中获得VPS</h4><h4 id="Step2：切换用户">Step2：切换用户</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo su -</span><br></pre></td></tr></table></figure><h4 id="Step3：设置root密码">Step3：设置root密码</h4><p>运行下面的命令，并输入两次设置的root密码</p><p>这里密码要记录一下，之后要用这个密码登录vps的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd root</span><br></pre></td></tr></table></figure><h4 id="Step4：修改配置文件">Step4：修改配置文件</h4><p>这里使用vim修改<strong>sshd_config</strong>文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/ssh/sshd_config</span><br></pre></td></tr></table></figure><p>找到下面这行代码，不要去修改保持注释状态</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#PermitRootLogin prohibit-password   // 允许root登录，但是禁止root用密码登录（默认值在文件中是被注释掉的）</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>然后新建一行 添加：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PermitRootLogin yes   //允许root登录，设为yes。</span><br></pre></td></tr></table></figure><p>修改好之后记得保存</p><h4 id="Step5：重启SSH服务">Step5：重启SSH服务</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo service ssh restart</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 技术 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> vps </tag>
            
            <tag> 技术 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>408_计算机组成原理_第1和2章</title>
      <link href="/2021/08/26/408_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86_%E7%AC%AC1%E5%92%8C2%E7%AB%A0/"/>
      <url>/2021/08/26/408_%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86_%E7%AC%AC1%E5%92%8C2%E7%AB%A0/</url>
      
        <content type="html"><![CDATA[<h2 id="特殊符号">特殊符号</h2><p>Knowledge Points：知识点</p><h2 id="第一章">第一章</h2><p>1.早期的冯诺依曼机以运算器为中心，且是单处理机</p><blockquote><p>基本工作方式是：控制流驱动</p></blockquote><p>2.一个完整的计算机系统包括硬件系统和软件系统</p><p>3.三个级别的语言</p><blockquote><p>a.机器语言：又叫做二进制语言，是计算机唯一可以直接识别和执行的语言</p></blockquote><blockquote><p>b.汇编语言：是一种低级别的语言，需要通过“汇编程序”将之转换为计算机机器语言后，才能在计算机的硬件系统上使用</p></blockquote><blockquote><p>c.高级语言：诸如Python、C++之类的的语言。</p></blockquote><p>4.通常来说，高级语言会经过<code>编译程序</code>编译成汇编语言程序，然后再经过<code>汇编程序</code>操作得到机器语言程序；当然也可以直接将高级语言程序翻译成机器语言程序。</p><p>5.翻译程序、汇编程序、编译程序、解释程序的区别和联系</p><ul><li><p>翻译程序</p><p>顾名思义，就是将高级语言源程序翻译成机器语言程序(目标代码)的软件，其分为两类</p><blockquote><p>一是编译程序：将高级语言源程序一次全部翻译成目标程序(eg汇编语言程序)，源程序不变就无需重新编译。注意目标程序仍不是计算机硬件能直接执行的程序。</p><p>二是解释程序：一条一条的将源程序语句翻译成对应的机器目标代码，并立即执行。</p></blockquote></li><li><p>汇编程序</p><p>汇编程序把汇编语言翻译为机器语言程序。</p></li></ul><p>6.在CPU中，IR、MAR和MDR对各类程序员都是透明的(不可见的)</p><p>7.机器字长、指令字长与存储字长</p><blockquote><p>机器字长：计算机能直接处理的二进制数据的位数，机器字长一般等于内部寄存器的大小，决定了计算机运算精度</p></blockquote><blockquote><p>指令字长：一个指令字中包含的二进制代码的位数</p></blockquote><blockquote><p>存储字长：一个存储单元的二进制代码的长度</p></blockquote><p>8.主频高的CPU不一定比低的块</p><blockquote><p>衡量CPU的指标很多啦，高主频的CPU处理高CPI的程序，不见得会比低主频的CPU处理低CPI的程序快</p></blockquote><hr><h2 id="第二章-数据的表示和运算">第二章 数据的表示和运算</h2><h3 id="2-定点数的表示">2.定点数的表示</h3><p>1.<strong>区别无符号数和有符号数</strong></p><blockquote><p>长8位的无符号整数可表示的数值区间是：2^8-1</p><p>注意此处的8位指的是从0到7，一共8位</p></blockquote><p>2.<strong>定点整数</strong>的小数点通常放在数值后面隐藏，即其组成为：符号位+数值部分+小数点位置(隐藏)</p><p>3.<strong>定点小数</strong>的小数点通常在符号位后面，最高数值为前边，即其组成为：符号位+小数点位置+数值部分</p><p>4.<strong>原码、反码、补码和移码</strong></p><ul><li><p><strong>真值</strong></p><p>顾名思义就是真实值的意思，这里做一点补充</p></li><li><p><strong>原码</strong></p><p>原码其实就是有符号数，由符号位+数据部分组成</p><p>若字长n+1位，则原码整数范围为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>−</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>⩽</mo><mi>x</mi><mo>⩽</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-(2^n-1)\leqslant x \leqslant (2^n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7733399999999999em;vertical-align:-0.13667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818093214.png" alt="1"></p><p>若字长为n+1位，则原码小数范围为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>n</mi></mrow></msup><mo stretchy="false">)</mo><mo>⩽</mo><mi>x</mi><mo>⩽</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>n</mi></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-(1-2^{-n})\leqslant x \leqslant (1-2^{-n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.071331em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.821331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7733399999999999em;vertical-align:-0.13667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.071331em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.821331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818091438.png" alt="2"></p><blockquote><p>对于小数来说，就是0.5+0.25+0.125…，使用求和公式计算出来的而已，so easy！</p></blockquote></li><li><p><strong>反码</strong></p><p>反码常用来作为原码就补码的中间过渡。<u>正数的反码=补码；负数的反码，符号位不变，数值部分全部取反。</u></p><p>若字长n+1位，则反码整数范围为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>−</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>⩽</mo><mi>x</mi><mo>⩽</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-(2^n-1)\leqslant x \leqslant (2^n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7733399999999999em;vertical-align:-0.13667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818093214.png" alt="1"></p><p>若字长为n+1位，则反码小数范围为：</p></li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>−</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>n</mi></mrow></msup><mo stretchy="false">)</mo><mo>⩽</mo><mi>x</mi><mo>⩽</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>n</mi></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-(1-2^{-n})\leqslant x \leqslant (1-2^{-n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">−</span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.071331em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.821331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7733399999999999em;vertical-align:-0.13667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.071331em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.821331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818091438.png" alt="2"></p><ul><li><p><strong>补码</strong></p><p>正数的补码=其原码=其反码；负数的补码=其反码的值在最低数值位再+1</p><p>补码对于真值0的表示是唯一的，只有+0才表示0</p><p>若字长n+1位，则补码整数范围为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>−</mo><msup><mn>2</mn><mi>n</mi></msup><mo>⩽</mo><mi>x</mi><mo>⩽</mo><mo stretchy="false">(</mo><msup><mn>2</mn><mi>n</mi></msup><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-2^n\leqslant x \leqslant (2^n-1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.851062em;vertical-align:-0.13667em;"></span><span class="mord">−</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7733399999999999em;vertical-align:-0.13667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7143919999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span></p><blockquote><p>整数的补码比原码在区间上多表示了一个2^n</p></blockquote><p>若字长n+1位，则补码小数范围为：</p><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>−</mo><mn>1</mn><mo>⩽</mo><mi>x</mi><mo>⩽</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><msup><mn>2</mn><mrow><mo>−</mo><mi>n</mi></mrow></msup><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-1\leqslant x \leqslant (1-2^{-n})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.78111em;vertical-align:-0.13667em;"></span><span class="mord">−</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.7733399999999999em;vertical-align:-0.13667em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel amsrm">⩽</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.071331em;vertical-align:-0.25em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.821331em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mathnormal mtight">n</span></span></span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></p><blockquote><p>小数的补码比原码在区间上多表示了一个-1</p></blockquote></li><li><p><strong>移码</strong></p><p>移码智能表示整数</p><p>移码在补码基础上将符号位取反即可</p><p>移码保持了数据原有的大小顺序，移码大真值就大，移码小真值就小</p></li></ul><p>5.<strong>对于第4点的补充</strong></p><ul><li>原码和反码对于真值0的表示形式是不唯一的，有+0和-0之分</li><li>补码对于真值0的表示形式是唯一的，即只有+0才表示0</li><li><code>[x]补</code>快速求<code>[-x]补</code>的方法：符号位，数值位均取反，末尾再+1</li></ul><hr><h3 id="3-定点数的运算">3.定点数的运算</h3><p>定点数的移位和加减法是本小节高频考点</p><h5 id="1-定点数的移位">1.定点数的移位</h5><ul><li><p>算数移位</p><blockquote><p>算术移位只针对于<strong>有符号数</strong>，并且在移位的前后，符号位均不会变化</p></blockquote><blockquote><p>正数的原码、补码和反码都是相同的，因此无论左移还是右移，空位补0即可</p></blockquote><blockquote><p>负数的原码移动后补0；负数反码右移和左移都补1；负数补码左移补0，右移补1</p><blockquote><p>对于负数的补码，从右向左找到第一个1，这个1的左边和负数反码一致，而右手边后负数原码一致。这个启示非常方便</p></blockquote></blockquote></li><li><p>逻辑移位</p><p>只需要将操作数看作为无符号数就行了。左移高位丢弃，地位补0；右移低位丢弃，高位补0</p></li><li><p>循环移位</p><p>循环移位，主要有两类，一是带进位标志位的大循环位移，二是不带进位标志位的小循环位移。</p><blockquote><p>区别的依据就是进位标志位是否参与唯一，so easy!</p></blockquote></li></ul><h5 id="2-原码定点数加减法运算">2.原码定点数加减法运算</h5><ul><li><p>加法原则：</p><blockquote><p>判断符号位：</p><p>若相同，则绝对值相加，符号不变</p><p>若不同，则执行减法，绝对值大的减去绝对值小的，符号位同绝对值大者</p></blockquote></li><li><p>减法原则：</p><blockquote><p>将减数的符号取反，将被减数与取反后的减数相加，之后执行加法操作即可</p></blockquote></li></ul><h5 id="3-补码定点数的加减法运算">3.补码定点数的加减法运算</h5><blockquote><p>1.参与运算的操作数都是补码</p><p>2.按照二进制规则运算</p><p>3.符号位和数值位一样要参与运算；符号位产生的进位要丢弃；运算结果的符号由运算得出</p><p>4.运算公式：</p><blockquote><p>[A+B]补=[A]补+[B]补</p><p>[A-B]补=[A]补+[-B]补</p></blockquote></blockquote><h5 id="4-溢出及其判断">4.溢出及其判断</h5><p>溢出顾名思义就是超出了机器所能表示的数字的范围</p><blockquote><p>上溢指的是超过机器所能表示的最大正数</p><p>下溢指的是小于机器所能表示的最小负数</p></blockquote><p>当且仅当两个符号相同的数相加or两个符号相异的数相减才可能发生溢出</p><p>溢出的判断主要有3种方法</p><blockquote><p>1.采用一位符号位</p><p>2.采用双符号位(也叫做模4补码)：</p><blockquote><p>S1S2，其中S1表示本应该是的符号位；S2表示实际运算结果之后的符号位。二者相同才是没有溢出</p></blockquote><p>3.采用一位符号位(也叫做模2补码)，根据数据位的进位情况判断溢出</p><blockquote><p>符号位的进位和最高数据位的进位相同才是没有溢出</p></blockquote></blockquote><hr><h3 id="4-浮点数">4.浮点数</h3><p>1.浮点数表示法在数位有限的情况下，扩大了数的表示范围，保持了数的有效精度</p><p><strong>2.浮点数阶码的底(与尾数的基数相同)是隐含的</strong></p><blockquote><p>浮点数组成：阶符+阶码数值部分+数符+尾数数值部分</p></blockquote><blockquote><p>阶码是整数，阶码符号与阶码的位数共同反应浮点数表示范围和小数点实际位置</p><p>尾码的位数则反应了浮点数的精度</p></blockquote><p><strong>3.规格化浮点数，是为了提高运算的精度。规格化形式规定尾数的最高位数必须是一个有效值。每次规格化之后要注意加码的加减</strong></p><blockquote><p>规格化浮点数M是个小数，不妨设基数为r，则M的取值范围是：</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210824215927.png" alt=""></p></blockquote><p><strong>4.浮点数的尾数可以用原码和补码来表示</strong></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210824220824.png" alt=""></p><p><strong>5.王道知识点小结</strong></p><p>表示范围已经不考了，从408大纲删除了</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210824221821.png" alt=""></p><p><strong>6.IEEE754标准</strong></p><blockquote><p><u>Knowledge Points 1</u></p><p>移码=真值+偏置值</p><p>IEEE754标准出了临时浮点数之外，均采用隐含尾数最高位的方法</p><p>阶码部分全0和全1都用作特殊用途，因此阶码数值部分的表示区间为1&lt;=M&lt;=254</p></blockquote><blockquote><p><u>Knowledge Points 2</u></p><p>阶码部分使用移码表示，而尾数部分用原码表示</p></blockquote><blockquote><p><u>Knowledge Points 3</u></p><p>下图中M表示尾数的数值，而E则表示阶码数值(移码的值)</p><p>对于阶码数值E而言，全0和全1都将作为特殊用途，因此其区间为1&lt;=M&lt;=254</p><p>对于偏置项：规定短浮点数偏置项为127=2^7-1；规定长浮点数偏置项1023=2^10-1</p><blockquote><p>知道了上面的知识，可以很容易求出IEEE754浮点数的表示范围</p></blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210825075143.png" alt=""></p></blockquote><p>7.浮点数的加减运算</p><blockquote><p><u>Knowledge Points 1：加减运算</u></p><p>真值到机器数的转换要注意审题</p><p>对阶只能是小阶向大阶看齐，也就是对阶时只能进行右归操作</p><p>舍入，类似于四舍五入</p><p>溢出判断：阶码超位一定是发生了溢出，但是尾数溢出未必导致整体溢出(还可以采用双符号位补救)</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210825082327.png" alt=""></p></blockquote><blockquote><p><u>Knowledge Points 2：C强制类型转换</u></p><p>机组考察以32位居多，编写的年代太过于久远</p><p>从int转向float时可能有数据舍入，因为int有32位，而float保留24位。(尾数尾数导致精度)</p><p>从float到int依然可能导致精度损失，一个0.00011的浮点数转换成int就变成了0</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210825083215.png" alt=""></p></blockquote><hr><h3 id="5-算数逻辑单元ALU">5.算数逻辑单元ALU</h3><p><strong>1.基本的逻辑运算</strong></p><blockquote><p><code>与</code>运算的优先级是高于<code>或</code>运算的</p><p><code>与</code>运算：两个数都是1，结果才是1</p><p><code>或</code>运算：一个数是1，结果就是1</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210825220307.png" alt=""></p></blockquote><p><strong>2.复合逻辑</strong></p><blockquote><p><u>电路符号中的<code>小圆点</code>表示取反</u></p><p><code>与非</code>表示将两个数的结果相与后取非</p><p><code>异或</code>运算本质就是两个参与运算的数，若相同，结果为0；若相异，结果为1</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210825221848.png" alt=""></p></blockquote><p><strong>3.串行和并行加法器</strong></p><blockquote><p><u>Knowledge Points 1：一位全加器</u></p></blockquote><blockquote><p><u>Knowledge Points 2：串行全加器</u>：器件少，速度慢，成本低</p></blockquote><blockquote><p><u>Knowledge Points 1：串行进位的并行加法器</u></p></blockquote><blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210825230509.png" alt=""></p></blockquote><p><strong>4.加法器ALU改进</strong></p><p>不是考试重点，大致了解就行了</p><p>心平气和，我能行，我可以！</p><p>人类的本质无非就是套娃再套娃</p>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机组成原理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>壁纸收藏</title>
      <link href="/2021/08/18/%E6%94%B6%E8%97%8F%E4%B8%80%E4%BA%9B%E4%B8%8D%E9%94%99%E7%9A%84%E5%A3%81%E7%BA%B8/"/>
      <url>/2021/08/18/%E6%94%B6%E8%97%8F%E4%B8%80%E4%BA%9B%E4%B8%8D%E9%94%99%E7%9A%84%E5%A3%81%E7%BA%B8/</url>
      
        <content type="html"><![CDATA[<h2 id="From-wallroom-io">From <a href="http://wallroom.io">wallroom.io</a></h2><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/wallroom-2560x1440-bg-deb5ad5.jpg" alt=""></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/wallroom-2560x1440-bg-c19542a.jpg" alt=""></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/wallroom-2560x1600-bg-ff0a90b.jpg" alt=""></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/wallroom-3840x2400-bg-d459300.jpg" alt=""></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/wallroom-2880x1620-bg-ca47e40.jpg" alt=""></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/wallroom-2880x1800-bg-f296f86.jpg" alt=""></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/wallroom-2880x1620-bg-cac0b55.jpg" alt=""></p>]]></content>
      
      
      <categories>
          
          <category> 乱七八糟 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 壁纸收藏 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>补码彻底理解</title>
      <link href="/2021/08/18/%E8%A1%A5%E7%A0%81%E5%BD%BB%E5%BA%95%E7%90%86%E8%A7%A3/"/>
      <url>/2021/08/18/%E8%A1%A5%E7%A0%81%E5%BD%BB%E5%BA%95%E7%90%86%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<h2 id="01背景">01背景</h2><p>在算术逻辑单元ALU中，实现减法操作的硬件设计逻辑其实是别加法要复杂的，强行实现的话，会增加很多额外的成本，因此有人提出通过加法操作来实现减法。</p><h2 id="02王道视频">02王道视频</h2><h4 id="1-引子">1.引子</h4><p>将时钟指针从10点调整至7点，可以用两种思路</p><p>一是回调10-7=3个小时；二是从10点转一圈再回到7点，（10+9）mod12=7</p><p>时钟盘面就只有12个小时，因此10+9=19，19再对12做模运算，就等于7</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818123251.png" alt=""></p><h4 id="2-模运算">2.模运算</h4><p>（-3mod12）与（9mod12）其实是等价的</p><p>下图中r的值是在0和模数之间的</p><p>-3=(-1)x12+9；而9=(0)x12+9</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818124019.png" alt=""></p><p>因此在mod12的条件下，-3，9，21…其实是等价的</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818124213.png" alt=""></p><hr><p>因此，根据余数来看，(mod12)操作其实是把所有的整数划分为了(0~11)一共12个类别</p><p>-3操作其实可以变成+9</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818124511.png" alt=""></p><p>在上图中，-3和9的绝对值之和=12，两者互为补数</p><p>所以在(mod m)条件下，如果能够找到负数的补数，就能把减法操作转换为加法操作</p><p>用模-a的绝对值就能求得a的补数，<u>此处的补数是正数</u></p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818125000.png" alt=""></p><h4 id="3-一些疑问">3.一些疑问</h4><p>以88-66为例，88的原码表示为<u>0101</u><u>1000</u>,，而-66的原码表示为<u>1100</u><u>0010</u></p><p>88-66=88+(-66)，因此可以将原式看成88+(-66的补数)</p><p>-66的补码为<u>1011</u><u>1110</u>，此处的10111110不是负数，而是一个正数(可以看成符号位也一起参与运算)</p><p>接着在对<u>0101</u><u>1000</u>和<u>1011</u><u>1110</u>进行加和操作</p><blockquote><p>8位字长最多可以表示0-255共2^8-1个数</p></blockquote><p>因此当两个数的和大于255时，会天然的进行取模操作</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818130543.png" alt=""></p><h4 id="4-总结">4.总结</h4><p>使用补码可将减法操作转变为等价的加法，ALU中无需集成减法器，执行加法操作时候，符号位一起参与运算</p><h2 id="03自己看博客的总结">03自己看博客的总结</h2><p>1.补码实际可以解决0和-0的问题，将+0定位0，将-0设定为最低区间的最大值，从而使得无论是负整数还是负小数都能在最低区间多取得一个最小值。</p><blockquote><p>若字长n+1位，则整数补码区间范围为：</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818135812.png" alt=""></p><blockquote><p>不妨设字长为8，则除去符号位外有7位数值部分，原来表示-0的1000 0000则用来表示-128=-2^8</p></blockquote><hr><p>若字长n+1位，则小数数补码区间范围为：</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818135915.png" alt=""></p><blockquote><p>不妨设字长为8，则除去符号位外有7位数值部分，原来表示-0的1.000 0000则用来表示-1=-2^1</p></blockquote></blockquote><p>2.在模运算的条件下</p><blockquote><p>众所周知，绝对值相等的两个正负数之和为0</p><p>设我们有正数b= 0000 1111，如何表示其相反数呢？</p><p>一般思路是，找一个数，跟它相减的结果等于0</p><p>换一个思路，为什么不找到一个数a，使得a+b=1111 1111</p><p>而a+1就是我们想要的数</p><blockquote><p>此时的(a+b+1)mod8=0</p></blockquote><p>这样就很好的解释了为啥补码等于反码+1</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 计算机组成原理 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>马原_02马哲</title>
      <link href="/2021/08/16/%E9%A9%AC%E5%8E%9F_02%E9%A9%AC%E5%93%B2/"/>
      <url>/2021/08/16/%E9%A9%AC%E5%8E%9F_02%E9%A9%AC%E5%93%B2/</url>
      
        <content type="html"><![CDATA[<h1>0.写在前面</h1><p>马原部分在考研中占有24分左右，其中18分都出自马哲</p><p>这部分分为4章，分别是辩证唯物论、唯物辩证法、认识论和唯物史观</p><p>辩证唯物论：世界是什么？</p><p>唯物辩证法：世界是怎样存在的？</p><p>认识论：如何认知世界？</p><p>唯物史观：人类历史发展规律及特点</p><h1>1.辩证唯物论(世界是什么？)</h1><h3 id="1-1-哲学的基本问题">1.1 哲学的基本问题</h3><p>1.唯物论的两极其实是物质观与意识观。其中物质观是本质，而意识观是派生。</p><p>2.依据物质(存在)与意识(思维)何者为第一性、第二性可分为两派</p><ul><li><p>唯物主义：主张物质第一性，即先有物质后有意识，唯物主义分为3类</p><blockquote><p>古代朴素唯物主义：物质是一种或者几种实物</p></blockquote><blockquote><p>近代形而上学唯物主义：物质是原子等离子(机械思维)</p></blockquote><blockquote><p>现代辩证唯物主义：物质是<strong>一切客观存在</strong></p></blockquote></li><li><p>唯心主义：主张意识第一性，分为2类</p><blockquote><p>主观唯心主义：人的意识是世界本源意识：本我，我思故我在</p></blockquote><blockquote><p>客观唯心主义：独立于”我“之外的客观精神是世界本源意识：上帝创世、道生一，一生二</p></blockquote></li></ul><p>3.依据物质和意识是否具有同一性，即意识是否可以认识物质，可分为<code>可知论</code>与<code>不可知论</code>两个派别</p><blockquote><p>唯物主义和微信主义都坚持可知论，即意识可以认识物质</p></blockquote><blockquote><p>二元论者则坚持不可知论，即意识不能或不能完全认识物质，二元论者也叫做<strong>不彻底</strong>的唯心主义者</p></blockquote><h3 id="1-2-世界的多样性与物质的统一性">1.2 世界的多样性与物质的统一性</h3><p>1.物质是客观存在的，不以人的意志为转移，不依赖人的感觉而存在</p><p>2.物质的唯一特性：客观实在性；物质的根本属性：运动</p><p>3.物质的存在方式是运动；运动的存在方式是时空</p><p>4.物质与运动不可分割</p><blockquote><p>物质是运动着的物质，运动是物质在运动</p><p>你是我的你，我是你的我</p><p>脱离物质谈运动，导致唯心主义；脱离运动谈物质将导致形而上学</p></blockquote><p>5.运动与静止对立统一</p><blockquote><p>对立统一：二者即相联系，又相区别</p><p>相互区别：运动是绝对的，无条件的；静止是相对的，有条件的</p><p>相互联系：动中有静，静中有动</p><p>夸大静止，否定运动，导致形而上学；夸大运动，否定静止，导致诡辩论</p></blockquote><p>6.物质运动与时空是不可分割的</p><blockquote><p>时空具有客观性、绝对性、相对性、有限性和无限性</p><p>绝对性是指：物质运动的时空的客观实在性是绝对存在的</p><p>相对性：相对论</p><p>有限性：具体事物的时空是有限的</p><p>无限性：所有的事物是无限的</p></blockquote><p>7.实践是自然存在和社会存在的区分和统一的基础，即实践是物质和意识的唯一桥梁</p><p>8.意识是人独有的；意识不是物质，物质不是意识；意识在内容上是客观的，在形式上是主观的</p><p>10.语言是物质，但语言的含义是意识</p><p>11.意识对物质具有<strong>能动作用</strong></p><blockquote><p>意识具有目的性、计划性、创新性、指导实践改造客观世界的作用、调控人的行为和生理活动的作用</p></blockquote><p>12.物质与意识是辩证的关系（对立统一）</p><blockquote><p>二者即相联系，有相区别</p></blockquote><h1>2.唯物辩证法(世界是怎样的？)</h1><h3 id="2-1事物的联系和发展">2.1事物的联系和发展</h3><p>1.联系和发展是唯物辩证法的两大特征</p><p>2.联系具有客观性、普遍性和多样性</p><blockquote><p>客观性指客观存在；普遍性有3个，分别是事物内部联系、事物之间联系以及整个世界是统一的；</p></blockquote><p>3.事物的发展的是永恒的，事物的发展是过程的，要以发展的眼光来看待事物</p><blockquote><p>不能凭借先后产生来草率的判断新旧事物</p></blockquote><p>4.五对范畴</p><ul><li><p>原因和结果</p><p>因果关系是前后的关系，但是前后的关系未必是因果</p><p>我是你的因，也是他的果，因果关系的区分既是确定的，也是不确定的</p><p>同样的原因，未必有用样的结果</p><p>有因未必有果(因果关系的复杂多样)</p></li><li><p>必然与偶然</p><p>对立统一关系</p><p>遇到再补充</p></li><li><p>可能与现实</p><p>区分一件事是否可能的依据是，看这件事在现实中是否有依据</p><p>区分一件事是现实的可能还是抽象的可能，是看它在现实中的依据是否充分</p><blockquote><p>抽象的可能有时候也叫做“潜在的可能”</p></blockquote><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818205608.png" alt=""></p></li><li><p>现象与本质</p><p>真象：从正面直接表达事物的本质；假象：从侧面歪曲的表达事物的本质</p><p>无论是真象还是假象都是对事物本质的表达(表现)，区别在于表现的位置点</p><p><u>易错点1</u></p><p>假象不是错觉，错觉是啥都没有；错觉<strong>有可能</strong>是由假象导致的</p><blockquote><p>eg:水里面的筷子弯了，这是假象；我神经病，把一堆筷子看成两堆，这是错觉</p></blockquote><p>真象和假象都是现象，都是客观存在的；不能用<code>正确</code>or<code>错误</code>这类词来形容</p><blockquote><p>eg：我脸圆，无论你说我的脸长得正不正确，你都有毛病</p></blockquote><p>相反，错觉是一种主观的感受，说错觉是一种错误的感觉是正确的</p><p><u>易错点2</u></p><p>真象和假象都是现象，只要是现象一律外露于事物；本质才是隐藏在内部的。</p><p>真相和真象不是一个意思，真相往往指Truth，而真象则是Real</p></li><li><p>内容和形式</p><p>内容决定形式，形式反作用于内容</p><p>生产力=社会生产物质内容</p><p>生产关系=社会生产组织形式</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> 考研政治 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 考研政治 </tag>
            
            <tag> 马哲 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Server Status服务器探针</title>
      <link href="/2021/08/12/%E5%8F%AF%E4%B9%90%E6%8E%A2%E9%92%88/"/>
      <url>/2021/08/12/%E5%8F%AF%E4%B9%90%E6%8E%A2%E9%92%88/</url>
      
        <content type="html"><![CDATA[<h3 id="简介">简介</h3><p>Server Status是一款适合监控多台服务器的探针程序，自带web前端界面，可以实现监管手上多台服务器，十分方便。</p><p>最近入手了一台水墨云CN2GT线路vps，传家宝价格：99/年，1G 512M内存。</p><p>用来做代理是不合适的，晚高峰炸开，搭网站的话，内存又太小</p><p>用来做探针刚刚合适</p><h3 id="安装脚本">安装脚本</h3><p>1.服务端/客户端安装脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://raw.githubusercontent.com/CokeMine/ServerStatus-Hotaru/master/status.sh &amp;&amp; chmod +x status.sh</span><br><span class="line"></span><br><span class="line">国内服务器专用脚本</span><br><span class="line">wget -N --no-check-certificate http://southcat.net/bash/status.sh &amp;&amp; chmod +x status.sh</span><br></pre></td></tr></table></figure><p>2.服务端/客户端启动脚本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 客户端管理菜单</span><br><span class="line">bash status.sh c</span><br><span class="line"> </span><br><span class="line"># 服务端管理菜单</span><br><span class="line">bash status.sh s </span><br></pre></td></tr></table></figure><p>3.添加服务器节点什么的也很简答，根据提示一步步走就行了。在服务端安装过程中会要求输入两次端口数值，一次用于客户端和服务端连接，另一次用于使用者访问服务端</p><h3 id="Demo">Demo</h3><p><a href="http://181.215.215.89:3669/">传送门</a></p><p><img src="https://yanxuan.nosdn.127.net/d40ec7f7fd8588354163759def58e476.png" alt="1.png"><br><img src="https://yanxuan.nosdn.127.net/4c83c6a6821bb3ad196e0f3851bbcddc.png" alt="2.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> vps </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>第一次考研学长分享会记录</title>
      <link href="/2021/08/12/%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%80%83%E7%A0%94%E5%AD%A6%E9%95%BF%E5%88%86%E4%BA%AB%E4%BC%9A%E8%AE%B0%E5%BD%95/"/>
      <url>/2021/08/12/%E7%AC%AC%E4%B8%80%E6%AC%A1%E8%80%83%E7%A0%94%E5%AD%A6%E9%95%BF%E5%88%86%E4%BA%AB%E4%BC%9A%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h2 id="1-朱佳文学长">1.朱佳文学长</h2><p>择校推荐：灰灰考研，计算机考研助手</p><p>肖4主观全文背诵</p><p><img src="https://yanxuan.nosdn.127.net/91e9de6c241bf88280413fd1b3cc378e.png" alt="1.png"><br><img src="https://yanxuan.nosdn.127.net/1dec2dcdb5c8b4b5bae765d4e4e440fb.png" alt="2.png"></p><p>英语</p><p><img src="https://yanxuan.nosdn.127.net/8a501ff55eb78973ffcd523faf08d276.png" alt="3.png"></p><p>专业课</p><p><img src="https://yanxuan.nosdn.127.net/73983a0509ed89dfb4997a6b13755f1e.png" alt="4.png"></p><p>数学</p><p><img src="https://yanxuan.nosdn.127.net/00fc87a49340aa7ff56643a51f13c39d.png" alt="5.png"></p><p>唠叨几句</p><p><img src="https://yanxuan.nosdn.127.net/713883733587fc97a06fbfe4b6ecc32b.png" alt="6.png"></p><h2 id="2-徐晓敏学长复旦">2.徐晓敏学长复旦</h2><p><img src="https://yanxuan.nosdn.127.net/5c1c4b2fc8fe81923944275e9141e1d3.png" alt="1.png"></p><p><img src="https://yanxuan.nosdn.127.net/53af30f096d88d8098bff7fe053b7d27.png" alt="2.png"></p><p><img src="https://yanxuan.nosdn.127.net/238288b85800e3292e6bb39646b0928a.png" alt="3.png"></p><p><img src="https://yanxuan.nosdn.127.net/95f037e512c7fc092f5c1a3f5d9f1d60.png" alt="4.png"></p><h4 id="初试准备-政治">初试准备-政治</h4><p>政治多选很容易拉开分数，前期不需要准备很长时间，背肖4</p><p><img src="https://yanxuan.nosdn.127.net/abb0c61eef0494351bec3a276364ba78.png" alt="5.png"></p><h4 id="初试准备-英语">初试准备-英语</h4><p>英语作文最好早点准备，考前准备自己的作文模板，各种类型的描述，自己准备好</p><p>考试合理分配好时间，别放弃</p><p><img src="https://yanxuan.nosdn.127.net/6a5baeacb44a59b5e5432f95191541f2.png" alt="6.png"></p><h4 id="初试数学">初试数学</h4><p>群里这种来历不明的题目</p><p>线性代数可以看李永乐 无论真题还是模拟卷都严格控制好时间 真题二刷控制好时间</p><p>唯一方法 好好复习 多多做题 复习要全面 包括“冷门”的知识点</p><p><img src="https://yanxuan.nosdn.127.net/ed2dbf809732e26f0e73ab91429a3d9b.png" alt="7.png"></p><h4 id="初始准备-专业课">初始准备-专业课</h4><p>机组&gt;操作系统&gt;计网&gt;数据结构</p><p>比较难 多多复习 越早越好</p><p>全面，不忽略任何一个知识点，2020年考了十字乘法答题</p><p>视频和教材选王道的就行了，能应付大部分的题目，算法想不起来的话就暴力破解</p><p>数学和专业课成绩会<strong>影响</strong>你找导师</p><p><img src="https://yanxuan.nosdn.127.net/cebf1a5e94089d6110fde7686bf5fcc3.png" alt="8.png"></p><h4 id="哆嗦">哆嗦</h4><p>别空题，把能想到的全部写上去，(抄材料啊啥的)，别空</p><p>要求强大的自控能力</p><p><img src="https://yanxuan.nosdn.127.net/df336c8bb42488dd626d219c35623dd7.png" alt="9.png"></p><h4 id="复试准备">复试准备</h4><p><img src="https://yanxuan.nosdn.127.net/8683dc68a9b0f8b879cd1f1add05b7a9.png" alt="10.png"></p><p>华师大的机试比较难，牛客难度还挺好的，leetcode以后求职面试用的居多，不建议使用Java</p><p>c++学会借助STL标准模板库做题</p><p><img src="https://yanxuan.nosdn.127.net/08164deff65e3ffe6d3e6bd5e750b405.png" alt="11.png"></p><p><img src="https://yanxuan.nosdn.127.net/a36001bd424bc0a34c9b8c57bd674bfe.png" alt="12.png"></p><h4 id="选择导师">选择导师</h4><p><img src="https://yanxuan.nosdn.127.net/083d2a6ac251005f5959d5b6258fe94b.png" alt="13.png"></p><p>导师评价网仅供参考。不一定能够客观</p><p><img src="https://yanxuan.nosdn.127.net/f8af103b3b213d6eb0218f74247da1fd.png" alt="14.png"></p><p>联系导师，实在没东西写，可以谢谢你的毕业设计，不能太水。。</p><p><img src="https://yanxuan.nosdn.127.net/afce4fc9c98a6c0913bd9f34e8919429.png" alt="15.png"></p><p>三天不回复，就直接联系下一位导师</p><p><img src="https://yanxuan.nosdn.127.net/a29533cb4a1abbae8b1c0bd919a6ec44.png" alt="16.png"></p><h4 id="关于读博">关于读博</h4><p><img src="https://yanxuan.nosdn.127.net/b176ab723a00b150b78775bc153290e0.png" alt="17.png"></p><h4 id="考研回忆">考研回忆</h4><p><img src="https://yanxuan.nosdn.127.net/1dbd7d3c7d96468d22ae486c3c42451f.png" alt="18.png"></p><h4 id="最后">最后</h4><p><img src="https://yanxuan.nosdn.127.net/49ce80026c7c09faab809b339fe0ea51.png" alt="19.png"></p><h4 id="学长联系">学长联系</h4><p><img src="https://yanxuan.nosdn.127.net/f933e41870506f1ddb3f73f6d2af6d6b.png" alt="20.png"></p><p>今年学长不推荐考复旦，全年爆冷，今年又会热，可能，如果愿意冲一冲还是可以的。</p><p>考研英语是英译中</p><p>学长是九月底结束的一轮复习的</p><h2 id="3-杜宇航学长">3.杜宇航学长</h2><p>政治学长推荐了《押题笔记》</p><p>上大学硕：数据结构+计算机网络</p><p>专业硕士：数据结+操作系统</p>]]></content>
      
      
      
        <tags>
            
            <tag> learn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>iptable转发脚本</title>
      <link href="/2021/08/12/%E6%90%AC%E8%BF%90iptable%E8%BD%AC%E5%8F%91%E8%84%9A%E6%9C%AC/"/>
      <url>/2021/08/12/%E6%90%AC%E8%BF%90iptable%E8%BD%AC%E5%8F%91%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h2 id="0-BBR加速脚本">0.BBR加速脚本</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -O tcp.sh mcnb.top/tcp.sh &amp;&amp; bash tcp.sh</span><br></pre></td></tr></table></figure><h2 id="1-原作者Github主页">1.原作者Github主页</h2><p><a href="https://github.com/arloor/iptablesUtils">传送门</a></p><h2 id="2-一键脚本">2.一键脚本</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 如果vps不能访问 raw.githubusercontent.com 推荐使用这个</span><br><span class="line">wget --no-check-certificate -qO natcfg.sh http://www.arloor.com/sh/iptablesUtils/natcfg.sh &amp;&amp; bash natcfg.sh</span><br></pre></td></tr></table></figure><p>or</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget --no-check-certificate -qO natcfg.sh https://raw.githubusercontent.com/arloor/iptablesUtils/master/natcfg.sh &amp;&amp; bash natcfg.sh</span><br></pre></td></tr></table></figure><h2 id="3-脚本源码">3.脚本源码</h2><p>创建一个txt文档，复制下面的代码进去后，重保存为<strong><a href="http://natcfg.sh">natcfg.sh</a></strong>文件，上传至中转服务器端即可</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br></pre></td><td class="code"><pre><span class="line">red=&quot;\033[31m&quot;</span><br><span class="line">black=&quot;\033[0m&quot;</span><br><span class="line"></span><br><span class="line">base=/etc/dnat</span><br><span class="line">mkdir $base 2&gt;/dev/null</span><br><span class="line">conf=$base/conf</span><br><span class="line">touch $conf</span><br><span class="line"></span><br><span class="line"># wget wget --no-check-certificate -qO natcfg.sh http://blog.arloor.com/sh/iptablesUtils/natcfg.sh &amp;&amp; bash natcfg.sh</span><br><span class="line"></span><br><span class="line">    clear</span><br><span class="line">    echo &quot;#############################################################&quot;</span><br><span class="line">    echo &quot;# Usage: setup iptables nat rules for domian/ip             #&quot;</span><br><span class="line">    echo &quot;# Website:  http://www.arloor.com/                          #&quot;</span><br><span class="line">    echo &quot;# Author: ARLOOR &lt;admin@arloor.com&gt;                         #&quot;</span><br><span class="line">    echo &quot;# Github: https://github.com/arloor/iptablesUtils           #&quot;</span><br><span class="line">    echo &quot;#############################################################&quot;</span><br><span class="line">    echo</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">setupService()&#123;</span><br><span class="line">    cat &gt; /usr/local/bin/dnat.sh &lt;&lt;&quot;AAAA&quot;</span><br><span class="line">#! /bin/bash</span><br><span class="line">[[ &quot;$EUID&quot; -ne &#x27;0&#x27; ]] &amp;&amp; echo &quot;Error:This script must be run as root!&quot; &amp;&amp; exit 1;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">base=/etc/dnat</span><br><span class="line">mkdir $base 2&gt;/dev/null</span><br><span class="line">conf=$base/conf</span><br><span class="line">firstAfterBoot=1</span><br><span class="line">lastConfig=&quot;/iptables_nat.sh&quot;</span><br><span class="line">lastConfigTmp=&quot;/iptables_nat.sh_tmp&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">####</span><br><span class="line">echo &quot;正在安装依赖....&quot;</span><br><span class="line">yum install -y bind-utils &amp;&gt; /dev/null</span><br><span class="line">apt install -y dnsutils &amp;&gt; /dev/null</span><br><span class="line">echo &quot;Completed：依赖安装完毕&quot;</span><br><span class="line">echo &quot;&quot;</span><br><span class="line">####</span><br><span class="line">turnOnNat()&#123;</span><br><span class="line">    # 开启端口转发</span><br><span class="line">    echo &quot;1. 端口转发开启  【成功】&quot;</span><br><span class="line">    sed -n &#x27;/^net.ipv4.ip_forward=1/&#x27;p /etc/sysctl.conf | grep -q &quot;net.ipv4.ip_forward=1&quot;</span><br><span class="line">    if [ $? -ne 0 ]; then</span><br><span class="line">        echo -e &quot;net.ipv4.ip_forward=1&quot; &gt;&gt; /etc/sysctl.conf &amp;&amp; sysctl -p</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    #开放FORWARD链</span><br><span class="line">    echo &quot;2. 开放iptbales中的FORWARD链  【成功】&quot;</span><br><span class="line">    arr1=(`iptables -L FORWARD -n  --line-number |grep &quot;REJECT&quot;|grep &quot;0.0.0.0/0&quot;|sort -r|awk &#x27;&#123;print $1,$2,$5&#125;&#x27;|tr &quot; &quot; &quot;:&quot;|tr &quot;\n&quot; &quot; &quot;`)  #16:REJECT:0.0.0.0/0 15:REJECT:0.0.0.0/0</span><br><span class="line">    for cell in $&#123;arr1[@]&#125;</span><br><span class="line">    do</span><br><span class="line">        arr2=(`echo $cell|tr &quot;:&quot; &quot; &quot;`)  #arr2=16 REJECT 0.0.0.0/0</span><br><span class="line">        index=$&#123;arr2[0]&#125;</span><br><span class="line">        echo 删除禁止FOWARD的规则$index</span><br><span class="line">        iptables -D FORWARD $index</span><br><span class="line">    done</span><br><span class="line">    iptables --policy FORWARD ACCEPT</span><br><span class="line">&#125;</span><br><span class="line">turnOnNat</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">testVars()&#123;</span><br><span class="line">    local localport=$1</span><br><span class="line">    local remotehost=$2</span><br><span class="line">    local remoteport=$3</span><br><span class="line">    # 判断端口是否为数字</span><br><span class="line">    local valid=</span><br><span class="line">    echo &quot;$localport&quot;|[ -n &quot;`sed -n &#x27;/^[0-9][0-9]*$/p&#x27;`&quot; ] &amp;&amp; echo $remoteport |[ -n &quot;`sed -n &#x27;/^[0-9][0-9]*$/p&#x27;`&quot; ]||&#123;</span><br><span class="line">       echo  -e &quot;$&#123;red&#125;本地端口和目标端口请输入数字！！$&#123;black&#125;&quot;;</span><br><span class="line">       return 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # 检查输入的不是IP</span><br><span class="line">    #if [ &quot;$(echo  $remotehost |grep -E -o &#x27;([0-9]&#123;1,3&#125;[\.])&#123;3&#125;[0-9]&#123;1,3&#125;&#x27;)&quot; != &quot;&quot; ];then</span><br><span class="line">     #   local isip=true</span><br><span class="line">     #   local remote=$remotehost</span><br><span class="line">#</span><br><span class="line"> #       echo -e &quot;$&#123;red&#125;警告：你输入的目标地址是一个ip!$&#123;black&#125;&quot;</span><br><span class="line">  #      return 2;</span><br><span class="line">   # fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dnat()&#123;</span><br><span class="line">     [ &quot;$#&quot; = &quot;3&quot; ]&amp;&amp;&#123;</span><br><span class="line">        local localport=$1</span><br><span class="line">        local remote=$2</span><br><span class="line">        local remoteport=$3</span><br><span class="line"></span><br><span class="line">        cat &gt;&gt; $lastConfigTmp &lt;&lt;EOF</span><br><span class="line">iptables -t nat -A PREROUTING -p tcp --dport $localport -j DNAT --to-destination $remote:$remoteport</span><br><span class="line">iptables -t nat -A PREROUTING -p udp --dport $localport -j DNAT --to-destination $remote:$remoteport</span><br><span class="line">iptables -t nat -A POSTROUTING -p tcp -d $remote --dport $remoteport -j SNAT --to-source $localIP</span><br><span class="line">iptables -t nat -A POSTROUTING -p udp -d $remote --dport $remoteport -j SNAT --to-source $localIP</span><br><span class="line">EOF</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dnatIfNeed()&#123;</span><br><span class="line">  [ &quot;$#&quot; = &quot;3&quot; ]&amp;&amp;&#123;</span><br><span class="line">    local needNat=0</span><br><span class="line">    # 如果已经是ip</span><br><span class="line">    if [ &quot;$(echo  $2 |grep -E -o &#x27;([0-9]&#123;1,3&#125;[\.])&#123;3&#125;[0-9]&#123;1,3&#125;&#x27;)&quot; != &quot;&quot; ];then</span><br><span class="line">        local remote=$2</span><br><span class="line">    else</span><br><span class="line">        local remote=$(host -t a  $2|grep -E -o &quot;([0-9]&#123;1,3&#125;[\.])&#123;3&#125;[0-9]&#123;1,3&#125;&quot;|head -1)</span><br><span class="line">    fi</span><br><span class="line"></span><br><span class="line">    if [ &quot;$remote&quot; = &quot;&quot; ];then</span><br><span class="line">            echo Warn:解析失败</span><br><span class="line">          return 1;</span><br><span class="line">     fi</span><br><span class="line">  &#125;||&#123;</span><br><span class="line">      echo &quot;Error: host命令缺失或传递的参数数量有误&quot;</span><br><span class="line">      return 1;</span><br><span class="line">  &#125;</span><br><span class="line">    echo $remote &gt;$base/$&#123;1&#125;IP</span><br><span class="line">    dnat $1 $remote $3</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo &quot;3. 开始监听域名解析变化&quot;</span><br><span class="line">echo &quot;&quot;</span><br><span class="line">while true ;</span><br><span class="line">do</span><br><span class="line">## 获取本机地址</span><br><span class="line">localIP=$(ip -o -4 addr list | grep -Ev &#x27;\s(docker|lo)&#x27; | awk &#x27;&#123;print $4&#125;&#x27; | cut -d/ -f1 | grep -Ev &#x27;(^127\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^10\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^172\.1[6-9]&#123;1&#125;[0-9]&#123;0,1&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^172\.2[0-9]&#123;1&#125;[0-9]&#123;0,1&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^172\.3[0-1]&#123;1&#125;[0-9]&#123;0,1&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^192\.168\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)&#x27;)</span><br><span class="line">if [ &quot;$&#123;localIP&#125;&quot; = &quot;&quot; ]; then</span><br><span class="line">        localIP=$(ip -o -4 addr list | grep -Ev &#x27;\s(docker|lo)&#x27; | awk &#x27;&#123;print $4&#125;&#x27; | cut -d/ -f1|head -n 1 )</span><br><span class="line">fi</span><br><span class="line">echo  &quot;本机网卡IP [$localIP]&quot;</span><br><span class="line">cat &gt; $lastConfigTmp &lt;&lt;EOF</span><br><span class="line">iptables -t nat -F PREROUTING</span><br><span class="line">iptables -t nat -F POSTROUTING</span><br><span class="line">EOF</span><br><span class="line">arr1=(`cat $conf`)</span><br><span class="line">for cell in $&#123;arr1[@]&#125;</span><br><span class="line">do</span><br><span class="line">    arr2=(`echo $cell|tr &quot;:&quot; &quot; &quot;|tr &quot;&gt;&quot; &quot; &quot;`)  #arr2=16 REJECT 0.0.0.0/0</span><br><span class="line">    # 过滤非法的行</span><br><span class="line">    [ &quot;$&#123;arr2[2]&#125;&quot; != &quot;&quot; -a &quot;$&#123;arr2[3]&#125;&quot; = &quot;&quot; ]&amp;&amp; testVars $&#123;arr2[0]&#125;  $&#123;arr2[1]&#125; $&#123;arr2[2]&#125;&amp;&amp;&#123;</span><br><span class="line">        echo &quot;转发规则： $&#123;arr2[0]&#125; =&gt; $&#123;arr2[1]&#125;:$&#123;arr2[2]&#125;&quot;</span><br><span class="line">        dnatIfNeed $&#123;arr2[0]&#125; $&#123;arr2[1]&#125; $&#123;arr2[2]&#125;</span><br><span class="line">    &#125;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">lastConfigTmpStr=`cat $lastConfigTmp`</span><br><span class="line">lastConfigStr=`cat $lastConfig`</span><br><span class="line">if [ &quot;$firstAfterBoot&quot; = &quot;1&quot; -o &quot;$lastConfigTmpStr&quot; != &quot;$lastConfigStr&quot; ];then</span><br><span class="line">    echo &#x27;更新iptables规则[DOING]&#x27;</span><br><span class="line">    source $lastConfigTmp</span><br><span class="line">    cat $lastConfigTmp &gt; $lastConfig</span><br><span class="line">    echo &#x27;更新iptables规则[DONE]，新规则如下：&#x27;</span><br><span class="line">    echo &quot;###########################################################&quot;</span><br><span class="line">    iptables -L PREROUTING -n -t nat --line-number</span><br><span class="line">    iptables -L POSTROUTING -n -t nat --line-number</span><br><span class="line">    echo &quot;###########################################################&quot;</span><br><span class="line">else</span><br><span class="line"> echo &quot;iptables规则未变更&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">firstAfterBoot=0</span><br><span class="line">echo &#x27;&#x27; &gt; $lastConfigTmp</span><br><span class="line">sleep 60</span><br><span class="line">echo &#x27;&#x27;</span><br><span class="line">echo &#x27;&#x27;</span><br><span class="line">echo &#x27;&#x27;</span><br><span class="line">done    </span><br><span class="line">AAAA</span><br><span class="line">echo </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cat &gt; /lib/systemd/system/dnat.service &lt;&lt;\EOF</span><br><span class="line">[Unit]</span><br><span class="line">Description=动态设置iptables转发规则</span><br><span class="line">After=network-online.target</span><br><span class="line">Wants=network-online.target</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">WorkingDirectory=/root/</span><br><span class="line">EnvironmentFile=</span><br><span class="line">ExecStart=/bin/bash /usr/local/bin/dnat.sh</span><br><span class="line">Restart=always</span><br><span class="line">RestartSec=30</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl enable dnat &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">service dnat stop &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">service dnat start &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 获取本机地址</span><br><span class="line">localIP=$(ip -o -4 addr list | grep -Ev &#x27;\s(docker|lo)&#x27; | awk &#x27;&#123;print $4&#125;&#x27; | cut -d/ -f1 | grep -Ev &#x27;(^127\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^10\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^172\.1[6-9]&#123;1&#125;[0-9]&#123;0,1&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^172\.2[0-9]&#123;1&#125;[0-9]&#123;0,1&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^172\.3[0-1]&#123;1&#125;[0-9]&#123;0,1&#125;\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)|(^192\.168\.[0-9]&#123;1,3&#125;\.[0-9]&#123;1,3&#125;$)&#x27;)</span><br><span class="line">if [ &quot;$&#123;localIP&#125;&quot; = &quot;&quot; ]; then</span><br><span class="line">        localIP=$(ip -o -4 addr list | grep -Ev &#x27;\s(docker|lo)&#x27; | awk &#x27;&#123;print $4&#125;&#x27; | cut -d/ -f1|head -n 1 )</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">addDnat()&#123;</span><br><span class="line">    local localport=</span><br><span class="line">    local remoteport=</span><br><span class="line">    local remotehost=</span><br><span class="line">    local valid=</span><br><span class="line">    echo -n &quot;本地端口号:&quot; ;read localport</span><br><span class="line">    echo -n &quot;远程端口号:&quot; ;read remoteport</span><br><span class="line">    # echo $localport $remoteport</span><br><span class="line">    # 判断端口是否为数字</span><br><span class="line">    echo &quot;$localport&quot;|[ -n &quot;`sed -n &#x27;/^[0-9][0-9]*$/p&#x27;`&quot; ] &amp;&amp; echo $remoteport |[ -n &quot;`sed -n &#x27;/^[0-9][0-9]*$/p&#x27;`&quot; ]||&#123;</span><br><span class="line">        echo  -e &quot;$&#123;red&#125;本地端口和目标端口请输入数字！！$&#123;black&#125;&quot;</span><br><span class="line">        return 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    echo -n &quot;目标域名/IP:&quot; ;read remotehost</span><br><span class="line">    # # 检查输入的不是IP</span><br><span class="line">    # if [ &quot;$remotehost&quot; = &quot;&quot; -o &quot;$(echo  $remotehost |grep -E -o &#x27;([0-9]&#123;1,3&#125;[\.])&#123;3&#125;[0-9]&#123;1,3&#125;&#x27;)&quot; != &quot;&quot; ];then</span><br><span class="line">    #     isip=true</span><br><span class="line">    #     remote=$remotehost</span><br><span class="line">    #     echo -e &quot;$&#123;red&#125;请输入一个ddns域名$&#123;black&#125;&quot;</span><br><span class="line">    #     return 1</span><br><span class="line">    # fi</span><br><span class="line"></span><br><span class="line">    sed -i &quot;s/^$localport.*/$localport&gt;$remotehost:$remoteport/g&quot; $conf</span><br><span class="line">    [ &quot;$(cat $conf|grep &quot;$localport&gt;$remotehost:$remoteport&quot;)&quot; = &quot;&quot; ]&amp;&amp;&#123;</span><br><span class="line">            cat &gt;&gt; $conf &lt;&lt;LINE</span><br><span class="line">$localport&gt;$remotehost:$remoteport</span><br><span class="line">LINE</span><br><span class="line">    &#125;</span><br><span class="line">    echo &quot;成功添加转发规则 $localport&gt;$remotehost:$remoteport&quot;</span><br><span class="line">    setupService</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">rmDnat()&#123;</span><br><span class="line">    local localport=</span><br><span class="line">    echo -n &quot;本地端口号:&quot; ;read localport</span><br><span class="line">    sed -i &quot;/^$localport&gt;.*/d&quot; $conf</span><br><span class="line">    echo &quot;done!&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">testVars()&#123;</span><br><span class="line">    local localport=$1</span><br><span class="line">    local remotehost=$2</span><br><span class="line">    local remoteport=$3</span><br><span class="line">    # 判断端口是否为数字</span><br><span class="line">    local valid=</span><br><span class="line">    echo &quot;$localport&quot;|[ -n &quot;`sed -n &#x27;/^[0-9][0-9]*$/p&#x27;`&quot; ] &amp;&amp; echo $remoteport |[ -n &quot;`sed -n &#x27;/^[0-9][0-9]*$/p&#x27;`&quot; ]||&#123;</span><br><span class="line">       # echo  -e &quot;$&#123;red&#125;本地端口和目标端口请输入数字！！$&#123;black&#125;&quot;;</span><br><span class="line">       return 1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # # 检查输入的不是IP</span><br><span class="line">    # if [ &quot;$(echo  $remotehost |grep -E -o &#x27;([0-9]&#123;1,3&#125;[\.])&#123;3&#125;[0-9]&#123;1,3&#125;&#x27;)&quot; != &quot;&quot; ];then</span><br><span class="line">    #     local isip=true</span><br><span class="line">    #     local remote=$remotehost</span><br><span class="line"></span><br><span class="line">    #     # echo -e &quot;$&#123;red&#125;警告：你输入的目标地址是一个ip!$&#123;black&#125;&quot;</span><br><span class="line">    #     return 2;</span><br><span class="line">    # fi</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">lsDnat()&#123;</span><br><span class="line">    arr1=(`cat $conf`)</span><br><span class="line">for cell in $&#123;arr1[@]&#125;  </span><br><span class="line">do</span><br><span class="line">    arr2=(`echo $cell|tr &quot;:&quot; &quot; &quot;|tr &quot;&gt;&quot; &quot; &quot;`)  #arr2=16 REJECT 0.0.0.0/0</span><br><span class="line">    # 过滤非法的行</span><br><span class="line">    [ &quot;$&#123;arr2[2]&#125;&quot; != &quot;&quot; -a &quot;$&#123;arr2[3]&#125;&quot; = &quot;&quot; ]&amp;&amp; testVars $&#123;arr2[0]&#125;  $&#123;arr2[1]&#125; $&#123;arr2[2]&#125;&amp;&amp;&#123;</span><br><span class="line">        echo &quot;转发规则： $&#123;arr2[0]&#125;&gt;$&#123;arr2[1]&#125;:$&#123;arr2[2]&#125;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">echo  -e &quot;$&#123;red&#125;你要做什么呢（请输入数字）？Ctrl+C 退出本脚本$&#123;black&#125;&quot;</span><br><span class="line">select todo in 增加转发规则 删除转发规则 列出所有转发规则 查看当前iptables配置</span><br><span class="line">do</span><br><span class="line">    case $todo in</span><br><span class="line">    增加转发规则)</span><br><span class="line">        addDnat</span><br><span class="line">        #break</span><br><span class="line">        ;;</span><br><span class="line">    删除转发规则)</span><br><span class="line">        rmDnat</span><br><span class="line">        #break</span><br><span class="line">        ;;</span><br><span class="line">    # 增加到IP的转发)</span><br><span class="line">    #     addSnat</span><br><span class="line">    #     #break</span><br><span class="line">    #     ;;</span><br><span class="line">    # 删除到IP的转发)</span><br><span class="line">    #     rmSnat</span><br><span class="line">    #     #break</span><br><span class="line">    #     ;;</span><br><span class="line">    列出所有转发规则)</span><br><span class="line">        lsDnat</span><br><span class="line">        ;;</span><br><span class="line">    查看当前iptables配置)</span><br><span class="line">        echo &quot;###########################################################&quot;</span><br><span class="line">        iptables -L PREROUTING -n -t nat --line-number</span><br><span class="line">        iptables -L POSTROUTING -n -t nat --line-number</span><br><span class="line">        echo &quot;###########################################################&quot;</span><br><span class="line">        ;;</span><br><span class="line">    *)</span><br><span class="line">        echo &quot;如果要退出，请按Ctrl+C&quot;</span><br><span class="line">        ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 脚本 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> iptable </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Nat vps 中转脚本</title>
      <link href="/2021/08/12/Nat%20vps%20%E4%B8%AD%E8%BD%AC%E8%84%9A%E6%9C%AC/"/>
      <url>/2021/08/12/Nat%20vps%20%E4%B8%AD%E8%BD%AC%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h3 id="1-基于-socat-转发教程-TCP-UDP">1. 基于 socat 转发教程(TCP+UDP)</h3><blockquote><p>socat是一个多功能的网络工具，名字来由是”Socket CAT”，可以看作是 netcat 的N倍加强版</p></blockquote><h5 id="本脚本支持-CNAME-，支持-TCP-UDP，-不支持端口段转发">本脚本支持 CNAME ，支持 TCP + UDP， 不支持端口段转发</h5><p>脚本默认开启UDP、TCP转发，带开机自启功能，且一次只能转发单个端口，如果想转发多个端口请重复运行本脚本。</p><p><strong>下载脚本</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://www.moerats.com/usr/shell/socat.sh &amp;&amp; bash socat.sh</span><br></pre></td></tr></table></figure><p><strong>按要求输入以下信息：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#如果你要用本地服务器的3333端口转发IP为1.1.1.1服务器的6666端口，那就依次填入指定参数。</span><br><span class="line">请输入本地端口:3333</span><br><span class="line">请输入远程端口:6666</span><br><span class="line">请输入远程IP:1.1.1.1</span><br></pre></td></tr></table></figure><h3 id="2-基于-iptables-转发教程-TCP-UDP">2.基于 iptables 转发教程(TCP+UDP)</h3><blockquote><p>iptables 利用 linux 的一个内核模块进行ip包的转发，工作在 linux 的内核态，不涉及内核态和用户态的状态转换</p></blockquote><h5 id="本脚本支持-CNAME-，支持-TCP-UDP，-不支持端口段转发-2">本脚本支持 CNAME ，支持 TCP + UDP， 不支持端口段转发</h5><p><strong>下载 iptables 转发脚本</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget -qO natcfg.sh http://arloor.com/sh/iptablesUtils/natcfg.sh &amp;&amp; bash natcfg.sh</span><br></pre></td></tr></table></figure><p><strong>输出如下：</strong></p><p>用途: 便捷的设置 iptables 端口转发<br>注意1: 到域名的转发规则在添加后需要等待2分钟才会生效，且在机器重启后仍然有效<br>注意2: 到IP的转发规则在重启后会失效，这是iptables的特性</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">你要做什么呢（请输入数字）？Ctrl+C 退出本脚本</span><br><span class="line">1) 增加到域名的转发      3) 增加到IP的转发        5) 列出所有到域名的转发</span><br><span class="line">2) 删除到域名的转发      4) 删除到IP的转发        6) 查看iptables转发规则</span><br><span class="line">#? </span><br><span class="line">此时按照需要，输入1-6中的任意数字，然后按照提示即可</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> see the world </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>408_数据结构_排序章节总结</title>
      <link href="/2021/08/12/408_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E6%8E%92%E5%BA%8F%E6%80%BB%E7%BB%93/"/>
      <url>/2021/08/12/408_%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84_%E6%8E%92%E5%BA%8F%E6%80%BB%E7%BB%93/</url>
      
        <content type="html"><![CDATA[<h2 id="1-写在前面">1.写在前面</h2><p>这一章的知识还是很扎实的，易遗忘度也很高。</p><p>各个算法的时间复杂度、空间复杂度以及稳定性对我来说都是不简单的点，即使是二战再来看某些知识点都还是觉得难。</p><p>外部排序去年的大纲才加入，虽然考察力度不高，但是难度还是在那儿的，今天学习的时候总感觉没掌握好火候，学习起来还是有一定难度。</p><p>这里对内部与外部排序一并做个总结，便于后面复习来看。</p><p>堆排序、快速排序和归并排序是本章的重点</p><h2 id="2-内部排序">2.内部排序</h2><h3 id="a-插入排序">a.插入排序</h3><ul><li><h4 id="直接插入排序">直接插入排序</h4><p><strong>定义</strong>：顾名思义，就是一个表分为有序部分和无序部分，从无序部分选择一个元素同有序部分的元素比较后，插入到有序部分，完成<code>n-1</code>次这样的操作之后就完成排序。</p><p><strong>空间复杂度</strong>：插入排序在实现上通常采用就地排序，使用常数个辅助空间，因此空间复杂度是<code>O(1)</code></p><p><strong>时间复杂度</strong>：无序部分的元素在和有序部分元素比较后，通常还涉及到移动元素，因此时间复杂度是<code>O(n^2)</code></p><blockquote><p>如果原序列有序，则每次插入只用比较而不用移动元素，最好的时间复杂度是O(n)</p></blockquote><p><strong>稳定性</strong>：稳定的</p><blockquote><p>每次排序，都从后面部分拿出元素同前面比较，可以保证稳定</p></blockquote></li><li><h4 id="折半插入排序">折半插入排序</h4><p><strong>定义</strong>：折半插入排序本质上是直接插入排序的优化版，直接插入算法在进行过程中是边比较边移动元素，而折半插入是通过<code>折半查找</code>找到插入位置后，再统一移动后面的元素。</p><p><strong>时间复杂度</strong>：只是减少了查找过程中的时复，移动元素的复杂度依旧没变，折半插入排序的复杂度是<code>O(n^2)</code></p><p><strong>稳定性</strong>：稳定的</p><blockquote><p>得益于折半查找的性质，这个排序算法是稳定的</p><p>在<code>mid</code>所指的元素和无序部分提出的元素相等时，依然执行low=mid+1操作，保证算法稳定性</p></blockquote></li><li><h4 id="希尔排序">希尔排序</h4><p><strong>定义</strong>：引入了增量d，即将一个整表分成了几个子表，依次对子表排序。减少d的值，重复前面的操作。</p><blockquote><p>希尔本人的建议是d每次减少一半</p></blockquote><p><strong>空间复杂度</strong>：使用了常数个辅助单元，因此空间复杂度是<code>O(1)</code></p><p><strong>时间复杂度</strong>：这个问题数学上还没有解决</p><p><strong>稳定性</strong>：显然是<strong>不</strong>稳定的</p><blockquote><p>当相同关键字的元素的被分到不同的子表时，是可能出现相同关键字相对次序改变的情况的</p></blockquote><p><u><strong>注意：希尔排序只适用于线性表为顺序存储的情况</strong></u></p></li></ul><hr><h3 id="b-交换排序">b.交换排序</h3><ul><li><h4 id="冒泡排序">冒泡排序</h4><p><strong>定义</strong>：从后向前or从前向后，两两比较元素的值，若A[i-1]&gt;A[i]则交换，直到序列比较完，这就是第一趟冒泡，冒泡排序每一趟必定有一个元素出现在最终的位置上。</p><p><strong>时间复杂度</strong>：最坏情况下和平均时间复杂度都是<code>O(n^2)</code></p><p><strong>空间复杂度</strong>：使用了常数个辅助单元，因此空间复杂度是<code>O(1)</code></p><p><strong>稳定性</strong>：稳定的</p><blockquote><p>冒泡排序可以用于链表</p></blockquote></li><li><h4 id="快速排序">快速排序</h4><p><strong>定义</strong>：快速排序本质是一种分治的思想。对于初始序列L，从中任意选择一个元素pivot作为枢纽，令a=pivot，设定两个指针low和high分别指向序列L的两头。初始时，high指针从右向左移动，遇到小于a的值，就将此刻L[high]的值赋给L[pivot]；接着移动low指针，遇到大于a的值，就将此刻L[low]的值赋给L[high]。重复上述动作，直达high=low的时候，将a的值赋给L[low]。这样就完成了第一堂排序，此刻L[low]左侧的值都比L[low]小，右侧的都比它大。接着对L[low]两侧进行递归排序即可。</p><p><strong>时间复杂度</strong>：最好和平均时间复杂度都是：</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818224542.png" alt=""></p><p><strong>空间复杂度</strong>：快速排序need一个递归工作站，栈的容量和递归调用时候的最大深度有关最好和平均情况下的空复都是：</p><p><img src="https://fb-1259515475.cos.ap-hongkong.myqcloud.com/blog/20210818225017.png" alt=""></p><p>最坏的情况则是<code>O(n^2)</code></p><p><strong>稳定性</strong>：不稳定</p><blockquote><p>快速排序是所有内部排序算法中平均性能最优的</p><p>快排中，每一趟之后都会有基准元素被放到最终的位置上</p><p>可以通过选择尽量将数据中分的枢纽元素or随机从当前列表选择枢纽元素可以避免最坏的情况发生</p></blockquote></li></ul><hr><h3 id="C-选择排序">C.选择排序</h3><ul><li><h4 id="简单选择排序">简单选择排序</h4><p><strong>定义</strong>：简单选择排序的思想很简单，从待排序列A中选择一个最小的元素和A[i]交换，i从0开始。</p><p><strong>时间复杂度</strong>：简单选择排序的移动次数很少，但比较次数很多，且比较次数与序列初始状态无关，因此时间复杂度是：<code>O(n^2)</code></p><p><strong>空间复杂度</strong>：使用了常数个辅助单元，因此空间复杂度是<code>O(1)</code></p><p><strong>稳定性</strong>：不稳定</p><blockquote><p>这种很容易分析，对于序列[2,<u>2</u>,1]而言，使用简单选择排序会打破稳定性</p></blockquote></li><li><h4 id="堆排序">堆排序</h4></li></ul><p>​</p><p>​</p>]]></content>
      
      
      <categories>
          
          <category> 考研 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 数据结构 </tag>
            
            <tag> 排序 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 iperf3 工具测试本地到 VPS 的连接速度</title>
      <link href="/2021/08/12/%E4%BD%BF%E7%94%A8%20iperf3%20%E5%B7%A5%E5%85%B7%E6%B5%8B%E8%AF%95%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9E%E6%8E%A5%E9%80%9F%E5%BA%A6/"/>
      <url>/2021/08/12/%E4%BD%BF%E7%94%A8%20iperf3%20%E5%B7%A5%E5%85%B7%E6%B5%8B%E8%AF%95%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BF%9E%E6%8E%A5%E9%80%9F%E5%BA%A6/</url>
      
        <content type="html"><![CDATA[<blockquote><p>用 <a href="http://software.es.net/iperf/">iperf3</a> 这个工具可以从本地测试 VPS 可达的最大带宽速度，支持 TCP /UDP 多线程并发测速</p></blockquote><h3 id="安装Iperf3">安装Iperf3</h3><p>Cent OS</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install iperf3</span><br></pre></td></tr></table></figure><p>Debian</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get -y install iperf3</span><br></pre></td></tr></table></figure><p>macOS 或 Windows 系统，可以从<a href="https://iperf.fr/iperf-download.php">这里下载</a>。</p><h3 id="测速方法">测速方法</h3><p>先在 VPS 上运行 iperf3 进程。其中 <code>-s</code> 参数表示服务器端，<code>-p</code> 指定使用端口（默认端口 5201。别忘了放行端口）。如果需要以守护进程后台运行，追加 <code>-D</code> 参数。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -s -p 5201</span><br></pre></td></tr></table></figure><p>然后在本机发起测速。其中 <code>-c</code> 参数表示客户端并指定测速服务器地址，<code>-p</code> 指定服务器端口，<code>-t</code> 指定测试时长（单位秒），<code>-P</code> 指定并发连接数（越高越能测试到速度极限），<code>-R</code> 表示下载测速（不加参数则测试上传速度）。如果要测试 UDP 连接，追加 <code>-u</code> 参数。<a href="http://software.es.net/iperf/invoking.html#iperf3-manual-page">点此查看完整参数</a>。</p><p><strong>Linux向Linux端</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3 -c x.x.x.x -p 5201 -t 30 -P 1 -R</span><br></pre></td></tr></table></figure><p><strong>Windows端向Linux端</strong></p><p>打开<code>cmd</code>窗口，cd到iperf3目录下，执行下面的命令就行了，如果是Nat VPS要提前映射好端口(下面44303端口映射5201端口)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iperf3.exe -c 120.241.154.4 -p 44303 -t 60 -P 10 -R</span><br></pre></td></tr></table></figure><p>运行结果如下图，[SUM] 行就是测试数据（以 receiver 为准），带宽测速平均每秒 194 Mbits。</p><p><img src="https://ddcdn.jd.com/ddimg/jfs/t1/143717/13/6684/36959/5f4611dcE27e74a80/a25e4780d86919cb.png" alt="11.png"></p>]]></content>
      
      
      
        <tags>
            
            <tag> vps </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
